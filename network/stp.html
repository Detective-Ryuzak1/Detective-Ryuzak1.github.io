<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog de Tecnolog√≠a</title>
    <link rel="icon" href="../media/imagen41.png" type="image/png">
    <script src="https://kit.fontawesome.com/9474e300a6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/estilos-articulo.css">
</head>
<body>

    <header>
        <div class="container__header">
            <div class="logo">
                <img src="../media/logo-1.png" alt="">
            </div>

            <div class="menu">
                <nav>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="../electronica.html">Electr√≥nica</a></li>
                        <li><a href="../network.html">Networking</a></li>
                        <li><a href="../ia.html">Inteligencia Artificial</a></li>
                        <li><a href="../hacking.html">Ciberseguridad</a></li>
                        <li><a href="../devops.html">DevOps</a></li>
                    </ul>
                </nav>
            </div>
            <i class="fa-solid fa-bars" style="color: #ffffff;" id="icon_menu"></i>
            <div class="header__botonMenu">
                <input type="button" class="btn__header-botonMenu" value="Aportar" onclick="window.open('https://buymeacoffee.com/ryuzak1', '_blank');">
            </div>
        </div>
    </header>
    <main>
        <div class="cover">
            <div class="text__articulo-cover">
                <br>
                <br>
                <h1>STP (Spanning Tree Protocol)</h1>
                <p>El Spanning Tree Protocol es un protocolo de red que evita bucles en redes de capa 2, comunes en configuraciones con m√∫ltiples switches y enlaces redundantes. Estos bucles pueden provocar tr√°fico duplicado, sobrecarga en la red e interrupciones. STP permite a los switches identificar una topolog√≠a libre de bucles, estableciendo un "√°rbol de expansi√≥n" y desactivando algunos enlaces redundantes.</p>
                <h2>Versiones</h2>
                <p>STP fue inicialmente definido en el est√°ndar IEEE 802.1D. Existen varias versiones que mejoran su velocidad y funcionalidad:</p>
                <ul style="list-style-type: none;">
                    <li><marcador class="resaltado6">STP (IEEE 802.1D): </marcador>Versi√≥n original.</li>
                    <li><marcador class="resaltado6">RSTP (Rapid Spanning Tree Protocol - IEEE 802.1w): </marcador>Mejora la velocidad de convergencia.</li>
                    <li><marcador class="resaltado6">MSTP (Multiple Spanning Tree Protocol - IEEE 802.1s): </marcador>Permite m√∫ltiples instancias de STP, una para cada VLAN, optimizando el uso de enlaces redundantes en redes grandes.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/stp11.png" alt="">
                </div>
                <h2>Funcionamiento de STP</h2>
                <p>STP evita los bucles de capa 2 mediante el bloqueo de ciertos puertos para que los datos solo tengan un camino posible hacia el root. Sin STP, los bucles pueden causar problemas en las tablas MAC:</p>
                <ul style="list-style-type: none;">
                    <li>‚ãÜ <marcador class="resaltado5">Generaci√≥n de Tablas MAC: </marcador>Cada switch construye una tabla MAC, que asocia direcciones MAC con puertos espec√≠ficos. Los switches aprenden esta informaci√≥n al recibir tramas.</li>
                    <li>‚ãÜ <marcador class="resaltado5">Problemas en Bucles: </marcador>En un bucle, los paquetes se duplican y circulan indefinidamente:</li>
                    <ol>
                        <li>Las tablas MAC se llenan de entradas duplicadas o incorrectas, ya que los switches reciben el mismo paquete en m√∫ltiples puertos.</li>
                        <li>Esto puede llevar a una sobrecarga en los switches, que consumen m√°s CPU y memoria, y provocan p√©rdida de conectividad.</li>
                    </ol>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/stp6.jpg" alt="">
                </div>
                <h2>Bucles de Capa 2</h2>
                <p>Los bucles de red son situaciones en las que hay m√∫ltiples caminos entre switches o dispositivos de red, lo que puede causar que los paquetes de datos se env√≠en en un ciclo infinito. Esto ocurre principalmente en redes Ethernet y puede provocar problemas graves, incluyendo broadcast storms y la ca√≠da total de la red.</p>
                <p>Las principales causas por las que surgen los bucles de red son:</p>
                <ul style="list-style-type: none;">
                    <li>‚àò <marcador class="resaltado8">Conexiones Redundantes: </marcador>A menudo, las redes se dise√±an con conexiones redundantes para mejorar la disponibilidad. Sin embargo, si estas conexiones no se gestionan adecuadamente, pueden formar bucles.</li>
                    <li>‚àò <marcador class="resaltado8">Configuraci√≥n Incorrecta: </marcador>Cambios err√≥neos en la configuraci√≥n de switches, como la conexi√≥n de puertos sin la implementaci√≥n de protocolos de prevenci√≥n, pueden causar bucles.</li>
                    <li>‚àò <marcador class="resaltado8">Fallo de Protocolos de Prevenci√≥n: </marcador>Si un protocolo como Spanning Tree Protocol (STP) no est√° habilitado o falla, los bucles pueden formarse sin control.</li>
                </ul>
                <p>Los bucles de red pueden arrojar algunos fallos, como podr√≠an ser:</p>
                <ul style="list-style-type: none;">
                    <li>‚¶ø <marcador class="resaltado6">Broadcast Storms: </marcador>Los paquetes de broadcast pueden circular indefinidamente entre switches, multiplic√°ndose y saturando la red.</li>
                    <li>‚¶ø <marcador class="resaltado6">Desbordamiento de la Tabla de Direcciones MAC: </marcador>Los switches pueden inundarse con informaci√≥n de direcciones MAC, lo que provoca que las tablas se desborden y se conviertan en dispositivos de broadcast, enviando tramas a todos los puertos.</li>
                    <li>‚¶ø <marcador class="resaltado6">Rendimiento Degradado: </marcador>El tr√°fico de red se vuelve incontrolable, lo que lleva a una degradaci√≥n significativa del rendimiento de la red.</li>
                    <li>‚¶ø <marcador class="resaltado6">Ca√≠das de Dispositivos: </marcador>En situaciones extremas, los dispositivos pueden dejar de responder debido a la sobrecarga de tr√°fico.</li>
                </ul>
                <h2>Roles de los Puertos y del Switch en STP</h2>
                <p>Cada switch puede asumir diferentes roles en una red STP para evitar bucles:</p>
                <ol>
                    <li><marcador class="resaltado9">Root Bridge: </marcador>Es el switch central de la red; todos los caminos de datos convergen en √©l. Solo uno puede existir en una red.</li>
                    <li><marcador class="resaltado9">Root Port (RP): </marcador>El puerto de un switch que tiene el camino de menor costo hacia el root bridge.</li>
                    <li><marcador class="resaltado9">Designated Port (DP): </marcador>Puerto que reenv√≠a tr√°fico hacia una red espec√≠fica y act√∫a como el "puerto designado" para esa red. Cada segmento de red tiene un DP.</li>
                    <li><marcador class="resaltado9">Blocking Port: </marcador>Puerto que se bloquea para evitar bucles, impidiendo que los datos se reenv√≠en a trav√©s de √©l.</li>
                </ol>
                <p>Si el puerto que conecta a un switch al Root Bridge falla (por ejemplo, un Root Port), STP autom√°ticamente recalcula la topolog√≠a y activa uno de los Blocking Ports como el nuevo Root Port o Designated Port, seg√∫n corresponda. De esta manera, el tr√°fico encuentra una nueva ruta sin crear bucles, lo que provee redundancia.</p>
                <p>El proceso de reconfiguraci√≥n en STP est√°ndar es relativamente lento (puede tardar hasta 50 segundos), ya que el protocolo pasa por diferentes etapas (Blocking, Listening, Learning, Forwarding) antes de que el nuevo camino se active. Este comportamiento est√° dise√±ado para asegurar que no haya bucles durante el proceso de convergencia.</p>
                <p>En versiones m√°s avanzadas como RSTP (Rapid Spanning Tree Protocol), existe un rol de Alternate Port (puerto alternativo), que act√∫a como un "backup" para el Root Port en caso de fallo. Este puerto alternativo est√° listo para asumir la funci√≥n de reenv√≠o inmediatamente sin pasar por todas las etapas de rec√°lculo, permitiendo una convergencia m√°s r√°pida (en menos de 1 segundo en la mayor√≠a de los casos). Similarmente, MSTP (Multiple Spanning Tree Protocol) tambi√©n mejora la redundancia y velocidad en redes complejas.</p>
                <div class="blog-image-grande">
                    <img src="media/stp5.jpeg" alt="">
                </div>
                <h2>BPDUs</h2>
                <p>Las Bridge Protocol Data Units (BPDUs) son mensajes fundamentales utilizados en el Spanning Tree Protocol (STP) para la gesti√≥n de la topolog√≠a de red y la prevenci√≥n de bucles. Estas unidades de datos son enviadas por los switches para intercambiar informaci√≥n sobre el estado de la red y determinar la estructura jer√°rquica de la misma.</p>
                <p>Las BPDUs permiten que los switches identifiquen la ra√≠z del √°rbol de expansi√≥n y calculen el camino m√°s corto hacia ella. Cada switch env√≠a BPDUs de manera peri√≥dica para notificar a otros dispositivos sobre su existencia y el estado de sus puertos. Esto es esencial para la convergencia de la red, ya que permite a los switches tomar decisiones informadas sobre c√≥mo configurar sus puertos (bloqueados, escuchando, aprendiendo o reenviando).</p>
                <p>Existen dos tipos principales de BPDUs:</p>
                <ol style="list-style-type: none;">
                    <li>üåÄ <marcador class="resaltado9">BPDUs de Configuraci√≥n: </marcador>Se utilizan para establecer y mantener la topolog√≠a del √°rbol de expansi√≥n. Incluyen informaci√≥n sobre el identificador del puente, el costo del camino hacia la ra√≠z, y el estado de los puertos.</li>
                    <li>üåÄ <marcador class="resaltado9">BPDUs de Tercera Parte (Cambio de Topolog√≠a): </marcador>Se utilizan para notificar a otros switches sobre cambios en la topolog√≠a de la red, como la activaci√≥n o desactivaci√≥n de puertos. Esto ayuda a que la red se adapte r√°pidamente a cambios y minimiza el tiempo de inactividad.</li>
                </ol>
                <p>Las BPDUs son cruciales para el funcionamiento efectivo de STP. Sin ellas, los switches no podr√≠an colaborar adecuadamente para mantener una topolog√≠a libre de bucles. La capacidad de los switches para intercambiar informaci√≥n de manera continua les permite adaptarse a cambios en la red, como la adici√≥n de nuevos dispositivos o la eliminaci√≥n de enlaces.</p>
                <div class="blog-image-grande">
                    <img src="media/stp9.jpg" alt="">
                </div>
                <h2>Modos</h2>
                <p>El STP utiliza varios modos de estado de puerto para gestionar la topolog√≠a de la red y prevenir bucles. Los estados de los puertos en STP son:</p>
                <ol style="list-style-type: none;">
                    <li>„Ä§ <marcador class="resaltado5">Blocking (Bloqueado)</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Descripci√≥n: </marcador>En este estado, el puerto no env√≠a ni recibe tr√°fico de datos. Sin embargo, puede recibir mensajes de Bridge Protocol Data Units (BPDUs) para seguir participando en la topolog√≠a de la red.</li>
                        <li>‚àò <marcador class="resaltado8">Funci√≥n: </marcador>El puerto permanece en este estado si no es el camino m√°s corto hacia la ra√≠z o si est√° en riesgo de formar un bucle.</li>
                    </ul>
                    <li>„Ä§ <marcador class="resaltado5">Listening (Escuchando)</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Descripci√≥n: </marcador>En este estado, el puerto deja de aprender direcciones MAC, pero contin√∫a procesando BPDUs. Esto permite que el switch detecte cambios en la topolog√≠a de la red.</li>
                        <li>‚àò <marcador class="resaltado8">Funci√≥n: </marcador>El objetivo es prepararse para pasar a un estado de Forwarding si se determina que el puerto puede ser parte de la topolog√≠a activa.</li>
                    </ul>
                    <li>„Ä§ <marcador class="resaltado5">Learning (Aprendiendo)</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Descripci√≥n: </marcador>En este estado, el puerto comienza a aprender direcciones MAC de los paquetes que recibe, pero a√∫n no env√≠a tr√°fico de datos.</li>
                        <li>‚àò <marcador class="resaltado8">Funci√≥n: </marcador>Esto permite al switch construir su tabla de direcciones MAC, lo que ayuda a optimizar el tr√°fico en el futuro.</li>
                    </ul>
                    <li>„Ä§ <marcador class="resaltado5">Forwarding (Reenviando)</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Descripci√≥n: </marcador>Este es el estado activo en el que el puerto env√≠a y recibe tr√°fico de datos. Tambi√©n contin√∫a aprendiendo direcciones MAC.</li>
                        <li>‚àò <marcador class="resaltado8">Funci√≥n: </marcador>Los puertos en este estado est√°n habilitados para enviar y recibir tr√°fico, permitiendo la comunicaci√≥n normal en la red.</li>
                    </ul>
                    <li>„Ä§ <marcador class="resaltado5">Disabled (Deshabilitado)</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Descripci√≥n: </marcador>Este estado indica que el puerto est√° administrativamente deshabilitado. No puede enviar ni recibir tr√°fico ni participar en la elecci√≥n de la ra√≠z.</li>
                        <li>‚àò <marcador class="resaltado8">Funci√≥n: </marcador>Se utiliza para desactivar puertos que no se desean en la red.</li>
                    </ul>
                </ol>
                <br>
                <p>En el protocolo STP, el tiempo de convergencia de hasta 50 segundos se debe al proceso de transici√≥n de los puertos entre diferentes estados para evitar bucles en la red. Este proceso se controla mediante las Bridge Protocol Data Units (BPDUs), que los switches env√≠an peri√≥dicamente para compartir informaci√≥n sobre la topolog√≠a de la red.</p>
                <p>Primero, un puerto comienza en el estado Blocking, donde no reenv√≠a tr√°fico de usuario y solo recibe BPDUs. Este estado dura 20 segundos, un tiempo conocido como Max Age. Si no se detectan cambios en la red o fallas en ese per√≠odo, el puerto pasa al siguiente estado.</p>
                <p>Luego, el puerto transita al estado Listening, donde espera y eval√∫a BPDUs para determinar la mejor ruta hacia el Root Bridge sin comenzar a aprender direcciones MAC. Esta etapa toma 15 segundos, conocidos como Forward Delay.</p>
                <p>Despu√©s, el puerto entra en el estado Learning, donde comienza a aprender direcciones MAC de los paquetes que recibe, pero a√∫n no reenv√≠a tr√°fico de usuario. Este estado tambi√©n dura 15 segundos de Forward Delay.</p>
                <p>Finalmente, tras completar estos estados, el puerto pasa al estado Forwarding, donde ya puede reenviar tr√°fico de usuario y participar activamente en la red. Al sumar estos tiempos (20 + 15 + 15), STP asegura que la red converge en un m√°ximo de 50 segundos sin generar bucles.</p>
                <div class="blog-image">
                    <img src="media/stp10.jpg" alt="">
                </div>
                <p>Resumen del Proceso de Transici√≥n:</p>
                <ol>
                    <li>Inicialmente, todos los puertos comienzan en el estado Blocking.</li>
                    <li>Cuando se selecciona un puerto como parte del camino m√°s corto hacia la ra√≠z, puede moverse a Listening.</li>
                    <li>Luego, el puerto pasa a Learning, donde comienza a construir su tabla de direcciones.</li>
                    <li>Finalmente, se mueve a Forwarding, donde puede enviar y recibir datos.</li>
                    <li>Si se detecta un bucle o un cambio en la topolog√≠a, los puertos pueden volver a Blocking o Listening seg√∫n sea necesario.</li>
                </ol>
                <h2>Prioridades en STP y Selecci√≥n del Switch Root</h2>
                <p>Cada switch en STP tiene un valor de prioridad, el cual determina qu√© switch se convierte en el root bridge (ra√≠z de la red). El root bridge act√∫a como el centro de la red y env√≠a BPDU (Bridge Protocol Data Units) a otros switches para mantener la estructura de la red.</p>
                <ul style="list-style-type: none;">
                    <li>‚ãÜ <marcador class="resaltado5">Rango de Prioridades: </marcador>La prioridad se establece en incrementos de 4096, dentro de un rango de 0 a 61440.</li>
                    <li>‚ãÜ <marcador class="resaltado5">Elecci√≥n del Root: </marcador>El switch con la prioridad m√°s baja se convierte en el root. En caso de empate en prioridades, se elige el switch con la direcci√≥n MAC m√°s baja.</li>
                </ul>
                <p>Por ejemplo, si un switch tiene una prioridad de 0 y otro tiene una prioridad de 4096, el switch con 0 se convierte en el root, ya que su prioridad es menor.</p>
                <div class="blog-image-grande">
                    <img src="media/stp4.png" alt="">
                </div>
                <h2>Costo</h2>
                <p>El costo en STP es un valor que se utiliza para determinar la mejor ruta (o camino) hacia la ra√≠z del √°rbol de expansi√≥n en una red de switches. Este costo se basa en el ancho de banda de los enlaces de red y se utiliza para evitar bucles de red, asegurando que solo una ruta activa se utilice para el tr√°fico entre dos dispositivos.</p>
                <p>El costo se calcula a partir del ancho de banda de los enlaces. STP asigna costos predeterminados a diferentes velocidades de enlace, lo que significa que los enlaces de mayor ancho de banda tienen un costo m√°s bajo. Por ejemplo:</p>
                <ul>
                    <li>10 Mbps: costo 100</li>
                    <li>100 Mbps: costo 19</li>
                    <li>1 Gbps: costo 4</li>
                    <li>10 Gbps: costo 2</li>
                </ul>
                <p>Esto permite que los enlaces m√°s r√°pidos sean preferidos en el c√°lculo del camino hacia la ra√≠z.</p>
                <p>STP elige el camino m√°s corto hacia la ra√≠z utilizando el costo total del camino. El camino con el menor costo se convierte en el camino activo, mientras que los dem√°s enlaces son puestos en estado de "bloqueado" para prevenir bucles.</p>
                <p>Si hay un cambio en la topolog√≠a de la red (por ejemplo, si un enlace cae o un nuevo enlace se agrega), STP recalcula los costos y puede cambiar el estado de los enlaces para mantener una red sin bucles.</p>
                <div class="blog-image">
                    <img src="media/stp3.png" alt="">
                </div>
                <h2>Elecci√≥n de root</h2>
                <p>Para que STP determine cu√°l switch ser√° el Root Bridge (o switch ra√≠z), se utilizan dos valores principales:</p>
                <ul style="list-style-type: none;">
                    <li>üåÄ <marcador class="resaltado9">Prioridad del Bridge (Bridge Priority): </marcador>Es el valor clave que ayuda a STP a tomar la decisi√≥n. Este es un n√∫mero configurable en cada switch, y el switch con el valor de prioridad m√°s bajo ser√° el candidato preferido para ser el Root Bridge. La prioridad por defecto es 32768 en la mayor√≠a de los switches, pero puede ajustarse en incrementos de 4096 para influir en la elecci√≥n. Los valores van de 0 a 61440; un valor menor indica una mayor probabilidad de ser seleccionado como Root Bridge.</li>
                    <li>üåÄ <marcador class="resaltado9">Direcci√≥n MAC del Switch (MAC Address): </marcador>Si dos switches tienen la misma prioridad (lo cual es com√∫n si se usa el valor por defecto), STP desempata utilizando la direcci√≥n MAC del switch. El switch con la direcci√≥n MAC m√°s baja ser√° elegido como el Root Bridge. Esto se debe a que las direcciones MAC son √∫nicas para cada dispositivo, lo que permite a STP identificar y elegir un √∫nico switch en caso de empate en la prioridad.</li>
                </ul>
                <p>STP comienza evaluando estos dos valores para todos los switches en la red. Se inicia una serie de BPDUs que contienen la prioridad y direcci√≥n MAC de cada switch, permitiendo que todos los dispositivos comparen estos valores. Al final del proceso, el switch con la prioridad m√°s baja y, en caso de empate, la MAC m√°s baja, se convierte en el Root Bridge.</p>
                <p>Cuando STP necesita decidir entre varios puertos que ofrecen el mismo costo hacia el Root Bridge, utiliza la prioridad de puerto para determinar cu√°l de ellos debe estar en estado de Designated Port (DP) o Root Port (RP). Cada puerto en un switch tiene un valor de prioridad de puerto predeterminado (generalmente 128) que puede ajustarse en un rango de 0 a 255.</p>
                <ul style="list-style-type: none;">
                    <li>üåÄ <marcador class="resaltado9">Root Port (RP): </marcador>En cada switch, se elige un solo puerto como Root Port. Este puerto es el que tiene el costo m√°s bajo hacia el Root Bridge. Si varios puertos tienen el mismo costo hacia el Root Bridge, STP elige el puerto con la menor prioridad de puerto para ser el Root Port.</li>
                    <li>üåÄ <marcador class="resaltado9">Designated Port (DP): </marcador>Cada segmento de red tambi√©n debe tener un Designated Port, que es el puerto responsable de reenviar tr√°fico hacia ese segmento. Si hay varios puertos en diferentes switches compitiendo para ser el Designated Port en un mismo segmento y tienen el mismo costo, la prioridad de puerto ayuda a resolver el conflicto.</li>
                </ul>
                <p>La prioridad de puerto se usa en los siguientes casos:</p>
                <ul>
                    <li>Si un switch tiene varios puertos con el mismo costo hacia el Root Bridge, la prioridad de puerto ayuda a seleccionar el Root Port.</li>
                    <li>Si dos puertos de diferentes switches tienen el mismo costo y prioridad hacia un segmento com√∫n, la prioridad de puerto define cu√°l ser√° el Designated Port.</li>
                </ul>
                <p>STP utiliza la siguiente secuencia para elegir puertos cuando hay empates:</p>
                <ol>
                    <li>Costo del camino hacia el Root Bridge (menor costo gana).</li>
                    <li>Prioridad de Bridge (prioridad m√°s baja gana).</li>
                    <li>Prioridad de puerto (prioridad m√°s baja gana).</li>
                    <li>N√∫mero de puerto (n√∫mero de puerto m√°s bajo gana, si las prioridades son iguales).</li>
                </ol>
                <div class="blog-image">
                    <img src="media/stp12.jpeg" alt="">
                </div>
                <h2>Configuraci√≥n</h2>
                <h3>Cisco</h3>
                <p>En este caso, asumimos que estamos trabajando con el modo STP cl√°sico (PVST+ o RSTP dependiendo de la preferencia).</p>
                <p>En los switches Cisco, el STP (Spanning Tree Protocol) que viene por defecto es el PVST+ (Per VLAN Spanning Tree Plus). Este protocolo permite que se utilicen m√∫ltiples instancias de STP, una para cada VLAN, lo que mejora la eficiencia en redes con m√∫ltiples VLANs.</p>
                <p>Puedes usar <marcador class="subrayado">spanning-tree mode rapid-pvst</marcador> para cambiar a Rapid PVST, MST o alg√∫n otro modo dependiendo de tus necesidades.</p>
                <p>Con el comando <marcador class="subrayado">show spanning-tree</marcador> verificas el modo actual de STP.</p>
                <p>Valores Configurables:</p>
                <ul style="list-style-type: none;">
                    <li>‚àò <marcador class="resaltado8">max-age: </marcador>Determina cu√°nto tiempo un switch conserva la informaci√≥n de BPDU antes de descartar la informaci√≥n de la topolog√≠a. Generalmente, el valor predeterminado es 20 segundos.</li>
                    <li>‚àò <marcador class="resaltado8">hello-time: </marcador>Es el intervalo entre la transmisi√≥n de BPDUs. Se suele mantener en 2 segundos, que es el valor predeterminado.</li>
                    <li>‚àò <marcador class="resaltado8">forward-time: </marcador>Es el tiempo que un puerto pasa en los estados de Listening y Learning antes de pasar al estado de reenv√≠o. El valor predeterminado es 15 segundos.</li>
                    <li>‚àò <marcador class="resaltado8">priority: </marcador>Define qu√© switch ser√° el Root Bridge. Cuanto menor es este valor, mayor ser√° la prioridad. El valor predeterminado es 32768, pero en la mayor√≠a de los casos, el Root Bridge tendr√° una prioridad m√°s baja, como 4096.</li>
                    <li>‚àò <marcador class="resaltado8">port priority: </marcador>Determina cu√°l puerto se convertir√° en Designated Port o Root Port si hay empate en costos. Se puede configurar con un valor entre 0 y 240, en incrementos de 16.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/stp8.png" alt="">
                </div>
                <ul class="custom-list">
                    <li>Switch Root</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>Switch# configure terminal
Switch(config)# hostname RootBridge
Switch(config)# spanning-tree vlan 1 priority 4096
Switch(config)# spanning-tree vlan 1 hello-time 2
Switch(config)# spanning-tree vlan 1 forward-time 15
Switch(config)# spanning-tree vlan 1 max-age 20
Switch(config)# interface fastEthernet 0/1
Switch(config-if)# spanning-tree port-priority 32
Switch(config-if)# exit
Switch(config)# interface fastEthernet 0/2
Switch(config-if)# spanning-tree port-priority 32
Switch(config-if)# exit
Switch(config)# copy running-config startup-config</code></pre>
                    </div>
                </div>
                <li>Switch A</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>Switch# configure terminal
Switch(config)# hostname SwitchA
Switch(config)# spanning-tree vlan 1 hello-time 2
Switch(config)# spanning-tree vlan 1 forward-time 15
Switch(config)# spanning-tree vlan 1 max-age 20
Switch(config)# interface fastEthernet 0/3
Switch(config-if)# spanning-tree port-priority 64  # Root Port
Switch(config-if)# exit
Switch(config)# interface fastEthernet 0/4
Switch(config-if)# spanning-tree port-priority 32  # Designated Port
Switch(config-if)# exit
Switch(config)# copy running-config startup-config</code></pre>
                    </div>
                </div>
                <li>Switch B</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>Switch# configure terminal
Switch(config)# hostname SwitchB
Switch(config)# spanning-tree vlan 1 hello-time 2
Switch(config)# spanning-tree vlan 1 forward-time 15
Switch(config)# spanning-tree vlan 1 max-age 20
Switch(config)# interface fastEthernet 0/5
Switch(config-if)# spanning-tree port-priority 96  # Blocking Port
Switch(config-if)# exit
Switch(config)# interface fastEthernet 0/6
Switch(config-if)# spanning-tree port-priority 64  # Root Port
Switch(config-if)# exit
Switch(config)# copy running-config startup-config</code></pre>
                    </div>
                </div>
                </ul>
                <ol>
                    <li>ROOT:</li>
                    <ul style="list-style-type: none;">
                        <li>‚àò El switch RootBridge tiene una prioridad de 4096 para garantizar que sea seleccionado como el Root Bridge.</li>
                        <li>‚àò Los puertos FA0/1 y FA0/2 tienen la prioridad de puerto configurada en 32, por lo que act√∫an como Designated Ports.</li>
                    </ul>
                    <li>Switch A:</li>
                    <ul style="list-style-type: none;">
                        <li>‚àò FA0/3 se configura como Root Port con prioridad de puerto 64, ya que este puerto tiene la conexi√≥n m√°s directa hacia el Root Bridge.</li>
                        <li>‚àò FA0/4 es un Designated Port y se le asigna una prioridad de 32.</li>
                    </ul>
                    <li>Switch B:</li>
                    <ul style="list-style-type: none;">
                        <li>‚àò FA0/6 es el Root Port con prioridad de puerto 64, al igual que Switch A.</li>
                        <li>‚àò FA0/5 se encuentra en estado de Blocking con prioridad 96, ya que est√° conectado a Switch A, creando una ruta redundante que STP bloquea para evitar bucles.</li>
                    </ul>
                </ol>
                <p>Los valores de max-age, hello-time, y forward-time son est√°ndar y est√°n configurados seg√∫n los tiempos predeterminados para cumplir con el ciclo de 50 segundos que STP necesita para converger en caso de cambios de topolog√≠a.</p>
                <h3>Huawei</h3>
                <ul class="custom-list">
                    <li>Switch Root</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>[Switch] sysname RootBridge
[RootBridge] stp mode stp  # Activa STP en modo cl√°sico
[RootBridge] stp instance 1 priority 4096  # Configura la prioridad del Root Bridge
[RootBridge] stp timer hello 2  # Configura el Hello Time a 2 segundos
[RootBridge] stp timer forward-delay 15  # Configura el Forward Delay a 15 segundos
[RootBridge] stp timer max-age 20  # Configura el Max Age a 20 segundos

[RootBridge] interface GigabitEthernet0/0/1
[RootBridge-GigabitEthernet0/0/1] stp port priority 32  # Designated Port
[RootBridge-GigabitEthernet0/0/1] quit

[RootBridge] interface GigabitEthernet0/0/2
[RootBridge-GigabitEthernet0/0/2] stp port priority 32  # Designated Port
[RootBridge-GigabitEthernet0/0/2] quit

[RootBridge] save  # Guarda la configuraci√≥n en la memoria</code></pre>
                    </div>
                </div>
                <li>Switch A</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>[Switch] sysname SwitchA
[SwitchA] stp mode stp  # Activa STP en modo cl√°sico
[SwitchA] stp timer hello 2
[SwitchA] stp timer forward-delay 15
[SwitchA] stp timer max-age 20

[SwitchA] interface GigabitEthernet0/0/3
[SwitchA-GigabitEthernet0/0/3] stp port priority 64  # Root Port hacia el Root Bridge
[SwitchA-GigabitEthernet0/0/3] quit

[SwitchA] interface GigabitEthernet0/0/4
[SwitchA-GigabitEthernet0/0/4] stp port priority 32  # Designated Port
[SwitchA-GigabitEthernet0/0/4] quit

[SwitchA] save  # Guarda la configuraci√≥n en la memoria</code></pre>
                    </div>
                </div>
                <li>Switch B</li>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>[Switch] sysname SwitchB
[SwitchB] stp mode stp  # Activa STP en modo cl√°sico
[SwitchB] stp timer hello 2
[SwitchB] stp timer forward-delay 15
[SwitchB] stp timer max-age 20

[SwitchB] interface GigabitEthernet0/0/6
[SwitchB-GigabitEthernet0/0/6] stp port priority 64  # Root Port hacia el Root Bridge
[SwitchB-GigabitEthernet0/0/6] quit

[SwitchB] interface GigabitEthernet0/0/5
[SwitchB-GigabitEthernet0/0/5] stp port priority 96  # Blocking Port para evitar bucles
[SwitchB-GigabitEthernet0/0/5] quit

[SwitchB] save  # Guarda la configuraci√≥n en la memoria</code></pre>
                    </div>
                </div>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/stp1.png" alt="">
                </div>
            </div>
        </div>       
    </main>
    <script src="../js/script.js"></script>
</body>
</html>