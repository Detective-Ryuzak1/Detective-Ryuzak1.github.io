<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="widtd=device-widtd, initial-scale=1.0">
    <title>Blog de Tecnolog√≠a</title>
    <link rel="icon" href="../media/imagen41.png" type="image/png">
    <script src="https://kit.fontawesome.com/9474e300a6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/estilos-articulo.css">
</head>
<body>

    <header>
        <div class="container__header">
            <div class="logo">
                <img src="../media/logo-1.png" alt="">
            </div>

            <div class="menu">
                <nav>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="../electronica.html">Electr√≥nica</a></li>
                        <li><a href="../network.html">Networking</a></li>
                        <li><a href="../ia.html">Inteligencia Artificial</a></li>
                        <li><a href="../hacking.html">Ciberseguridad</a></li>
                        <li><a href="../devops.html">DevOps</a></li>
                    </ul>
                </nav>
            </div>
            <i class="fa-solid fa-bars" style="color: #ffffff;" id="icon_menu"></i>
            <div class="header__botonMenu">
                <input type="button" class="btn__header-botonMenu" value="Aportar" onclick="window.open('https://buymeacoffee.com/ryuzak1', '_blank');">
            </div>
        </div>
    </header>
    <main>
        <div class="cover">
            <div class="text__articulo-cover">
                <br>
                <br>
                <h1>RSTP (Rapid Spanning Tree Protocol)</h1>
                <p>El protocolo RSTP (Rapid Spanning Tree Protocol) es la evoluci√≥n del cl√°sico STP (Spanning Tree Protocol), dise√±ado para prevenir bucles de capa 2 en redes conmutadas. RSTP mejora sustancialmente los tiempos de convergencia y es ampliamente utilizado en redes modernas para garantizar una topolog√≠a redundante y estable sin sacrificar velocidad.</p>
                <div class="blog-image-grande">
                    <img src="media/rstp1.png" alt="">
                </div>
                <h2>Caracter√≠sticas</h2>
                <p>RSTP est√° definido por el est√°ndar IEEE 802.1w, publicado como una mejora directa del protocolo IEEE 802.1D (STP original). Aunque su funci√≥n principal sigue siendo la prevenci√≥n de bucles, RSTP introduce nuevos mecanismos para detectar cambios en la topolog√≠a m√°s r√°pidamente, logrando convergencias en cuesti√≥n de milisegundos a segundos, frente a los 30-50 segundos t√≠picos del STP original.</p>
                <p>Comparativa con STP:</p>
                <table>
                    <tr>
                        <th>Caracter√≠stica</th>
                        <th>STP (802.1D)</th>
                        <th>RSTP (802.1w)</th>
                    </tr>
                    <tr>
                        <td>Tiempo de convergencia</td>
                        <td>~50 seg</td>
                        <td>1 a 3 seg</td>
                    </tr>
                    <tr>
                        <td>Tipo de puertos</td>
                        <td>5 (Blocking, Listening, Learning, Forwarding, Disabled)</td>
                        <td>3 (Discarding, Learning, Forwarding)</td>
                    </tr>
                    <tr>
                        <td>Proceso de elecci√≥n</td>
                        <td>Lento</td>
                        <td>R√°pido y din√°mico</td>
                    </tr>
                    <tr>
                        <td>Compatibilidad</td>
                        <td>Amplia</td>
                        <td>Retrocompatible con STP</td>
                    </tr>
                </table>
                <h2>Funcionamiento</h2>
                <p>RSTP mantiene la l√≥gica central de un √∫nico puente ra√≠z (Root Bridge), al cual todos los switches tratan de llegar mediante la ruta m√°s corta. Sin embargo, redefine algunos roles y estados de los puertos:</p>
                <p>A continuaci√≥n se describe el proceso completo que ocurre cuando se forma o se adapta la topolog√≠a:</p>
                <h6>Elecci√≥n del Root Bridge</h6>
                <p>Cada switch env√≠a BPDUs (Bridge Protocol Data Units) anunciando su Bridge ID, que incluye su prioridad y direcci√≥n MAC. El switch con la menor prioridad (y en caso de empate, con la MAC m√°s baja) es elegido como el Root Bridge.</p>
                <p>Nota: Por defecto, todos los switches tienen una prioridad de 32768, pero se recomienda establecerla manualmente en el switch que desees como Root Bridge.</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Cambiar la prioridad de puerto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="spannig-tree vlan 10 priority 24626" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Configura este switch como el puente ra√≠z primario para la VLAN actual:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="spanning-tree vlan 10 root primary" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>La selecci√≥n del puente ra√≠z es un proceso cr√≠tico para asegurar una topolog√≠a de red libre de bucles. Este proceso se basa en la comparaci√≥n de los Bridge IDs (BIDs), que constan de dos componentes principales: la prioridad del puente y la direcci√≥n MAC del switch.</p>
                <ul style="list-style-type: none;">
                    <li>‚ãÜ <marcador class="resaltado5">Prioridad del Puente (Bridge Priority):</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò Este es el primer factor que se eval√∫a. La prioridad del puente es un valor configurable que permite a los administradores de red influir en la elecci√≥n del puente ra√≠z.</li>
                        <li>‚àò Los valores de prioridad son m√∫ltiplos de 4096, y el valor predeterminado es 32768.</li>
                        <li>‚àò El switch con el valor de prioridad m√°s bajo se convierte en el puente ra√≠z.</li>
                        <li>‚àò Si varios switches tienen la misma prioridad, se pasa al siguiente factor.</li>
                    </ul>
                    <li>‚ãÜ <marcador class="resaltado5">Direcci√≥n MAC del Switch (MAC Address):</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò Si hay un empate en la prioridad del puente, se utiliza la direcci√≥n MAC del switch como criterio de desempate.</li>
                        <li>‚àò La direcci√≥n MAC es un identificador √∫nico de 48 bits asignado a cada interfaz de red.</li>
                        <li>‚àò El switch con la direcci√≥n MAC m√°s baja se convierte en el puente ra√≠z.</li>
                    </ul>
                </ul>
                <br>
                <p>En el proceso de selecci√≥n del puente ra√≠z , los switches intercambian BPDUs, que contienen sus identificadores de puente (BIDs). Primero, se compara la prioridad configurada en cada switch, seleccion√°ndose como puente ra√≠z aquel con la prioridad m√°s baja. En caso de empate, es decir, cuando dos o m√°s switches tienen la misma prioridad, se utiliza como criterio de desempate la direcci√≥n MAC: el switch con la direcci√≥n MAC m√°s baja ser√° elegido finalmente como puente ra√≠z. Este mecanismo garantiza una selecci√≥n determinista y evita conflictos en la topolog√≠a de red.</p>
                <p>En el proceso de determinaci√≥n de la topolog√≠a STP/RSTP, adem√°s de la selecci√≥n del puente ra√≠z, intervienen otros factores clave. El costo de la ruta (Path Cost) juega un papel fundamental al definir los puertos ra√≠z y designados, aunque no influye en la elecci√≥n inicial del puente ra√≠z. Este valor se calcula en funci√≥n de la velocidad del enlace, asignando costos m√°s bajos a conexiones m√°s r√°pidas para priorizarlas en la topolog√≠a. Cuando se presentan empates en el costo de ruta, el protocolo recurre al ID del puerto como criterio de desempate, utilizando esta informaci√≥n para seleccionar definitivamente cu√°l puerto actuar√° como puerto ra√≠z o designado. Estos mecanismos adicionales garantizan una configuraci√≥n √≥ptima y eficiente de la red, evitando bucles y asegurando la mejor ruta posible para el tr√°fico de datos.</p>
                <p>La configuraci√≥n de la prioridad del puente resulta fundamental en el dise√±o de redes con STP/RSTP, ya que permite a los administradores ejercer un control determinante sobre la selecci√≥n del puente ra√≠z. Al asignar manualmente prioridades m√°s bajas a switches estrat√©gicos (generalmente los m√°s robustos o centrales), los profesionales de red pueden garantizar que estos dispositivos sean elegidos como ra√≠z, optimizando as√≠ el flujo del tr√°fico y manteniendo una topolog√≠a predecible.</p>
                <div class="blog-image">
                    <img src="media/rstp2.png" alt="">
                </div>
                <h6>Elecci√≥n de puertos</h6>
                <p>Una vez elegido el Root Bridge, cada switch debe determinar cu√°l de sus puertos es el mejor camino hacia √©l. Se calculan los costes de camino (path cost), dependiendo de la velocidad del enlace:</p>
                <table>
                    <tr>
                        <th>Velocidad del enlace</th>
                        <th>Costo (802.1t est√°ndar)</th>
                    </tr>
                    <tr>
                        <td>10 Mbps</td>
                        <td>2,000,000</td>
                    </tr>
                    <tr>
                        <td>100 Mbps</td>
                        <td>200,000</td>
                    </tr>
                    <tr>
                        <td>1 Gbps</td>
                        <td>20,000</td>
                    </tr>
                    <tr>
                        <td>10 Gbps</td>
                        <td>2,000</td>
                    </tr>
                </table>
                <ol style="list-style-type: none;">
                    <li>ñ¶π <marcador class="resaltado9">Roles de los puertos:</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Root Port (RP): </marcador>Es el puerto con el menor coste acumulado hacia el Root Bridge. Cada switch (excepto el root) tiene uno.</li>
                        <li>‚àò <marcador class="resaltado8">Designated Port (DP): </marcador>Es el puerto que ofrece la mejor ruta hacia un segmento de red. Puede haber varios por switch.</li>
                        <li>‚àò <marcador class="resaltado8">Alternate Port: </marcador>Es un puerto que recibe BPDUs pero no es el mejor camino. Est√° listo para activarse si falla el Root Port.</li>
                        <li>‚àò <marcador class="resaltado8">Backup Port: </marcador>Es una copia de un Designated Port dentro del mismo switch y segmento. Solo se usa en configuraciones muy espec√≠ficas.</li>
                    </ul>
                    <br>
                    <p>A diferencia de STP, que pasa por m√∫ltiples estados (Blocking ‚Üí Listening ‚Üí Learning ‚Üí Forwarding), RSTP simplifica esto en solo tres estados funcionales:</p>
                    <li>ñ¶π <marcador class="resaltado9">Estados de los puertos:</marcador></li>
                    <ul style="list-style-type: none;">
                        <li>‚àò <marcador class="resaltado8">Discarding: </marcador>El puerto bloquea el tr√°fico de datos, aunque puede seguir escuchando BPDUs. Es un estado seguro usado para evitar bucles (equivale a Blocking y Listening en STP).</li>
                        <li>‚àò <marcador class="resaltado8">Learning: </marcador>Aprende direcciones MAC, pero a√∫n no reenv√≠a tr√°fico.</li>
                        <li>‚àò <marcador class="resaltado8">Forwarding: </marcador>El puerto reenv√≠a tr√°fico de datos y contin√∫a aprendiendo direcciones MAC.</li>
                    </ul>
                </ol>
                <div class="blog-image">
                    <img src="media/rstp3.png" alt="">
                </div>
                <h6>Convergencia r√°pida</h6>
                <p>El protocolo RSTP (Rapid Spanning Tree Protocol) introduce un mecanismo de "propuesta/acuerdo" para lograr una convergencia m√°s r√°pida en comparaci√≥n con el protocolo STP (Spanning Tree Protocol) original. Este mecanismo permite a los switches negociar r√°pidamente los roles de los puertos y establecer una topolog√≠a libre de bucles.</p>
                <ul style="list-style-type: none;">
                    <li>‚ãÜ <marcador class="resaltado5">Inicio de la Convergencia:</marcador></li>
                    <ol>
                        <li><marcador class="resaltado8">Detecci√≥n del Puente Ra√≠z:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò Al encenderse los switches, cada uno asume inicialmente que es el puente ra√≠z.</li>
                            <li>‚àò Intercambian BPDUs para determinar cu√°l tiene la mejor ID de puente ra√≠z.</li>
                            <li>‚àò El switch con la ID de puente ra√≠z m√°s baja se convierte en el puente ra√≠z.</li>
                        </ul>
                        <li><marcador class="resaltado8">Propuesta:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò El puente ra√≠z env√≠a BPDUs de "propuesta" a sus puertos designados.</li>
                            <li>‚àò Estos BPDUs indican que el puente ra√≠z propone que los puertos receptores se conviertan en puertos ra√≠z o puertos designados.</li>
                        </ul>
                        <li><marcador class="resaltado8">Acuerdo:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò Los switches que reciben la "propuesta" eval√∫an si pueden aceptar la propuesta.</li>
                            <li>‚àò Si aceptan, env√≠an BPDUs de "acuerdo" de vuelta al puente ra√≠z.</li>
                            <li>‚àò Este proceso se repite en toda la red, con cada switch pasando la "propuesta" a sus vecinos y recibiendo "acuerdos".</li>
                        </ul>
                        <li><marcador class="resaltado8">Convergencia R√°pida:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò Este intercambio de "propuestas" y "acuerdos" permite que la red converja r√°pidamente, ya que los switches no tienen que esperar a que expiren los temporizadores como en STP.</li>
                        </ul>
                    </ol>
                    <li>‚ãÜ <marcador class="resaltado5">Cambios en la Topolog√≠a:</marcador></li>
                    <ol>
                        <li><marcador class="resaltado8">Detecci√≥n del Cambio:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò Cuando ocurre un cambio en la topolog√≠a (por ejemplo, falla un enlace), los switches detectan el cambio inmediatamente.</li>
                        </ul>
                        <li><marcador class="resaltado8">Propagaci√≥n del Cambio:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò El switch que detecta el cambio env√≠a BPDUs de "propuesta" a sus vecinos.</li>
                            <li>‚àò Estos BPDUs informan a los vecinos sobre el cambio en la topolog√≠a.</li>
                        </ul>
                        <li><marcador class="resaltado8">Rec√°lculo de la Topolog√≠a:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò Los switches que reciben la "propuesta" recalculan la topolog√≠a y ajustan los roles de sus puertos.</li>
                            <li>‚àò Env√≠an BPDUs de "acuerdo" para confirmar los cambios.</li>
                            <li>‚àò  Los switches vac√≠an las direcciones MAC aprendidas en todos sus puertos, excepto en el puerto donde recibieron la BPDU de cambio de topolog√≠a. Esto asegura que la tabla de direcciones MAC se actualice r√°pidamente con la nueva topolog√≠a.</li>
                        </ul>
                        <li><marcador class="resaltado8">Convergencia Acelerada:</marcador></li>
                        <ul style="list-style-type: none;">
                            <li>‚àò El proceso de "propuesta/acuerdo" permite que la red se adapte r√°pidamente al cambio, minimizando el tiempo de inactividad.</li>
                        </ul>
                    </ol>
                </ul>
                <br>
                <p>El RSTP (Rapid Spanning Tree Protocol) puede lograr una convergencia en tan solo 1 o 2 segundos, e incluso en entornos √≥ptimos alcanzar tiempos inferiores a los 500 milisegundos (0.5 segundos). Esto representa una mejora dr√°stica frente al STP tradicional (Spanning Tree Protocol), que requiere entre 30 y 50 segundos para converger tras un cambio en la topolog√≠a. La r√°pida recuperaci√≥n del RSTP lo convierte en la soluci√≥n ideal para redes modernas donde la alta disponibilidad y la m√≠nima interrupci√≥n del servicio son cr√≠ticas, especialmente en entornos con VoIP, videoconferencia o transmisi√≥n de datos en tiempo real.</p>
                <div class="blog-image-grande">
                    <img src="media/rspt5.png" alt="">
                </div>
                <p>La principal diferencia entre las BPDUs de STP y RSTP se manifiesta en tres aspectos clave. En primer lugar, en el campo de versi√≥n del encabezado, STP utiliza la versi√≥n 0 en el Protocol Identifier, mientras que RSTP emplea la versi√≥n 2, la cual es compartida tambi√©n por MSTP. En segundo lugar, las flags o banderas presentan diferencias significativas. STP solo hace uso de 2 bits, los cuales corresponden a Topology Change (bit 7) y Topology Change Acknowledgment (bit 0). En contraste, RSTP utiliza los 8 bits disponibles en la BPDU para incluir funciones avanzadas. Dentro de estos, los bits 4 y 5 indican el rol del puerto, donde 00 representa un estado desconocido, 01 indica un puerto Alternate o Backup, 10 representa un Root Port, y 11 corresponde a un Designated Port. Adem√°s, el bit 6 se emplea para Proposal, permitiendo la sincronizaci√≥n r√°pida de los switches, mientras que los bits 3 y 2 indican si el puerto est√° en estado de aprendizaje (Learning) o de reenv√≠o (Forwarding). El bit 1 es utilizado para el Agreement, lo que facilita la transici√≥n r√°pida de los puertos, y finalmente, los bits 7 y 0 siguen manteniendo la funci√≥n de Topology Change y TC Acknowledgment, respectivamente.</p>
                <p>El tercer aspecto clave es el manejo del tiempo de vida de los mensajes (Message Age). En STP, la convergencia de la red depende de temporizadores fijos, como el Forward Delay y el Max Age, lo que puede generar tiempos de respuesta m√°s lentos ante cambios en la topolog√≠a. Por otro lado, RSTP generalmente ignora estos temporizadores al utilizar un mecanismo de negociaci√≥n basado en handshakes con los bits Proposal y Agreement, lo que permite alcanzar una convergencia mucho m√°s r√°pida y eficiente en la red.</p>
                <div class="blog-image-grande">
                    <img src="media/rstp4.png" alt="">
                </div>
                <h2>Optimizaci√≥n del rendimiento</h2>
                <p>Para optimizar el comportamiento de RSTP y evitar que enlaces innecesarios ralenticen el proceso de convergencia, se pueden implementar las siguientes buenas pr√°cticas:</p>
                <p>‚àò <marcador class="resaltado8">Habilitar PortFast en enlaces a dispositivos finales.</marcador></p>
                <p>Las interfaces que se conectan a hosts, impresoras, PCs o tel√©fonos IP no forman parte del camino redundante, por lo tanto, no deber√≠an participar en RSTP. Para esto, se activa el modo PortFast, que pone el puerto en estado Forwarding inmediatamente:</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
        <pre><code>Switch(config)# interface range f0/1 - 24
Switch(config-if-range)# spanning-tree portfast</code></pre>
                    </div>
                </div>
                <p>‚àò <marcador class="resaltado8">Desactivar STP en puertos innecesarios.</marcador></p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Si hay interfaces aisladas o fuera de producci√≥n, puedes desactivar RSTP con:
                    </div>
                    <div class="comandos">
                      <input type="text" class="text" value="spanning-tree bpdufilter enable" oninput="ajustarAncho(this)">
                      <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>Esto debe hacerse solo si est√°s completamente seguro de que ese enlace nunca ser√° parte de un bucle, ya que podr√≠as comprometer la seguridad de la red.</p>
                <p>‚àò <marcador class="resaltado8">Usar BPDU Guard en puertos con PortFast.</marcador></p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Previene que dispositivos no autorizados participen en STP/RSTP:
                    </div>
                    <div class="comandos">
                      <input type="text" class="text" value="spanning-tree bpduguard enable" oninput="ajustarAncho(this)">
                      <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚àò <marcador class="resaltado8">Loop Guard para prevenir bucles por fallos unidireccionales.</marcador></p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Previene la creaci√≥n de bucles causados por fallos unidireccionales:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="spanning-tree loopguard default" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>El Loop Guard opera exclusivamente en puertos con rol Root o Alternate, protegiendo contra bucles cuando estos dejan de recibir BPDUs debido a fallas o configuraciones err√≥neas. </p>
                <div class="blog-image-grande">
                    <img src="media/rstp7.png" alt="">
                </div>
                <h2>Configuraci√≥n</h2>
                <p>En el an√°lisis de la topolog√≠a mostrada en la imagen, se observan varios elementos clave del protocolo spanning tree. El "Root Bridge" se identifica como el switch con la prioridad m√°s baja, cuyos puertos son todos designados (DP). Los puertos ra√≠z (RP), claramente marcados en la imagen, representan los caminos √≥ptimos hacia el puente ra√≠z desde cada switch. Los puertos designados (DP), tambi√©n se√±alados, son los encargados de reenviar el tr√°fico en sus respectivos segmentos de red. Particularmente importante es el puerto alternativo (AP) en el "Switch 2", que permanece bloqueado para prevenir bucles. La imagen muestra espec√≠ficamente una falla en el enlace entre el "Root Bridge" y el "Switch 2", situaci√≥n que activar√° el mecanismo de recuperaci√≥n haciendo que el puerto AP en "Switch 2" transite al estado de reenv√≠o para restaurar la conectividad, demostrando as√≠ la resiliencia del protocolo ante fallos de enlace.</p>
                <div class="blog-image-grande">
                    <img src="media/rstp8.png" alt="">
                </div>
                <p>Los puertos etiquetados como "0" en cada switch est√°n destinados a la conexi√≥n con hosts o dispositivos finales, mientras que los puertos "1" y "2" se utilizan para las interconexiones entre switches.</p>
                <h5>Cisco</h5>
                <p>‚ùç Switch Root</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
        <pre><code>SWRoot (config)# vlan 50
SWRoot (config-vlan)# name IT
SWRoot (config-vlan)# exit

SWRoot (config)# interface e0/2
SWRoot (config-if)# switchport mode access
SWRoot (config-if)# switchport access vlan 50
SWRoot (config-if)# spannig-tree portfast
SWRoot(config-if)# spanning-tree bpduguard enable
SWRoot (config-if)# exit

SWRoot (config)# interface range e0/0 - 1
SWRoot (config-if)# switchport trunk encapsulation dot1q
SWRoot (config-if)# switchport mode trunk
SWRoot (config-if)# spanning-tree port-priority 16
SWRoot (config-if)# exit


SWRoot (config)# spanning-tree mode rapid-pvst
SWRoot (config)# spanning-tree vlan 50 root primary</code></pre>
                    </div>
                </div>
                <p>‚ùç Switch 1</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
        <pre><code>SW1 (config)# vlan 50
SW1 (config-vlan)# name IT
SW1 (config-vlan)# exit

SW1 (config)# interface e0/2
SW1 (config-if)# switchport mode access
SW1 (config-if)# switchport access vlan 50
SW1 (config-if)# spannig-tree portfast
SW1 (config-if)# spanning-tree bpduguard enable
SW1 (config-if)# exit

SW1 (config)# interface range e0/0 - 1
SW1 (config-if)# switchport trunk encapsulation dot1q
SW1 (config-if)# switchport mode trunk
SW1(config-if)# spanning-tree port-priority 32
SW1 (config-if)# exit
SW1 (config)# interface e0/1
SW1 (config-if)# spanning-tree loopguard enable     ! Root port
SW1 (config-if)# exit

SW1 (config)# spanning-tree mode rapid-pvst
SW1 (config)# spanning-tree vlan 50 root secondary</code></pre>
                    </div>
                </div>
                <p>‚ùç Switch 2</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
        <pre><code>SW2 (config)# vlan 50
SW2 (config-vlan)# name IT
SW2 (config-vlan)# exit

SW2 (config)# interface e0/2
SW2 (config-if)# switchport mode access
SW2 (config-if)# switchport access vlan 50
SW2 (config-if)# spannig-tree portfast
SW2 (config-if)# spanning-tree bpduguard enable
SW2 (config-if)# exit

SW2 (config)# interface range e0/0 - 1
SW2 (config-if)# switchport trunk encapsulation dot1q
SW2 (config-if)# switchport mode trunk
SW2 (config-if)# spanning-tree loopguard enable    ! Alternate port y Root port
SW2(config-if)# spanning-tree port-priority 48
SW2 (config-if)# exit

SW2 (config)# spanning-tree mode rapid-pvst</code></pre>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra el estado actual del Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="show spanning-tree" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra el estado del Spanning Tree para la VLAN 50:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="show spanning-tree vlan 50" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra informaci√≥n detallada sobre el Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="show spanning-tree detail" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>               
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra informaci√≥n sobre la interfaz f0/1 en el Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="show spanning-tree interface f0/1" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <h5>Huawei</h5>
                <p>‚ùç Switch Root</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                <pre><code>[SWRoot] sys
[SWRoot] vlan batch 50
[SWRoot] interface GigabitEthernet0/0/2
[SWRoot-GigabitEthernet0/0/2] port link-type access
[SWRoot-GigabitEthernet0/0/2] port default vlan 50
[SWRoot-GigabitEthernet0/0/2] stp edged-port enable
[SWRoot-GigabitEthernet0/0/2] stp bpdu-protection enable
[SWRoot-GigabitEthernet0/0/2] quit

[SWRoot] interface range GigabitEthernet0/0/0 to GigabitEthernet0/0/1
[SWRoot-if-range] port link-type trunk
[SWRoot-if-range] port trunk allow-pass vlan 50
[SWRoot-if-range] stp port priority 16
[SWRoot-if-range] quit

[SWRoot] stp mode rstp
[SWRoot] stp vlan 50 root primary</code></pre>
                    </div>
                </div>
                <p>loopguard solo se aplica en puertos root y alternate.</p>
                <p>‚ùç Switch 1</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                <pre><code>[SW1] sys
[SW1] vlan batch 50
[SW1] interface GigabitEthernet0/0/2
[SW1-GigabitEthernet0/0/2] port link-type access
[SW1-GigabitEthernet0/0/2] port default vlan 50
[SW1-GigabitEthernet0/0/2] stp edged-port enable
[SW1-GigabitEthernet0/0/2] stp bpdu-protection enable
[SW1-GigabitEthernet0/0/2] quit

[SW1] interface range GigabitEthernet0/0/0 to GigabitEthernet0/0/1
[SW1-if-range] port link-type trunk
[SW1-if-range] port trunk allow-pass vlan 50
[SW1-if-range] stp port priority 32
[SW1-if-range] quit

[SW1] interface GigabitEthernet0/0/1
[SW1-GigabitEthernet0/0/1] stp loop-protection enable  ! Root port
[SW1-GigabitEthernet0/0/1] quit

[SW1] stp mode rstp
[SW1] stp vlan 50 root secondary</code></pre>
                    </div>
                </div>
                <p>‚ùç Switch 2</p>
                <div class="consola">
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                <pre><code>[SW2] sys
[SW2] vlan batch 50
[SW2] interface GigabitEthernet0/0/2
[SW2-GigabitEthernet0/0/2] port link-type access
[SW2-GigabitEthernet0/0/2] port default vlan 50
[SW2-GigabitEthernet0/0/2] stp edged-port enable
[SW2-GigabitEthernet0/0/2] stp bpdu-protection enable
[SW2-GigabitEthernet0/0/2] quit

[SW2] interface range GigabitEthernet0/0/0 to GigabitEthernet0/0/1
[SW2-if-range] port link-type trunk
[SW2-if-range] port trunk allow-pass vlan 50
[SW2-if-range] stp loop-protection enable   ! Alternate port y Root port
[SW2-if-range] stp port priority 48   
[SW2-if-range] quit

[SW2] stp mode rstp</code></pre>
                    </div>
                </div>

                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra el estado actual del Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="display stp" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra el estado del Spanning Tree para la VLAN 50:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="display stp vlan 50" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra informaci√≥n detallada sobre el Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="display stp brief" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>               
                <div class="contenedor">
                    <div class="etiqueta">
                        Muestra informaci√≥n sobre la interfaz GigabitEthernet0/0/1 en el Spanning Tree:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="display stp interface GigabitEthernet0/0/1" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="blog-image-grande">
                    <img src="media/rstp9.jpeg" alt="">
                </div>
            </div>
        </div>       
    </main>
    <script src="../js/script.js"></script>
</body>
</html>