<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog de Tecnolog√≠a</title>
    <link rel="icon" href="../media/imagen41.png" type="image/png">
    <script src="https://kit.fontawesome.com/9474e300a6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/estilos-articulo.css">
</head>
<body>

    <header>
        <div class="container__header">
            <div class="logo">
                <img src="../media/logo-1.png" alt="">
            </div>

            <div class="menu">
                <nav>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="../electronica.html">Electr√≥nica</a></li>
                        <li><a href="../network.html">Networking</a></li>
                        <li><a href="../ia.html">Inteligencia Artificial</a></li>
                        <li><a href="../hacking.html">Ciberseguridad</a></li>
                        <li><a href="../devops.html">DevOps</a></li>
                    </ul>
                </nav>
            </div>
            <i class="fa-solid fa-bars" style="color: #ffffff;" id="icon_menu"></i>
            <div class="header__botonMenu">
                <input type="button" class="btn__header-botonMenu" value="Aportar" onclick="window.open('https://buymeacoffee.com/ryuzak1', '_blank');">
            </div>
        </div>
    </header>
    <main>
        <div class="cover">
            <div class="text__articulo-cover">
                <br>
                <br>
                <h1>Calidad de Servicio</h1>
                <p>La Calidad de Servicio (QoS) es un conjunto de mecanismos y t√©cnicas utilizadas en redes para garantizar un rendimiento √≥ptimo del tr√°fico, asegurando que aplicaciones cr√≠ticas como voz, video y datos operen de manera eficiente. A medida que las redes se vuelven m√°s complejas y convergentes, QoS se convierte en un elemento esencial para administrar el tr√°fico y evitar problemas como la congesti√≥n, la latencia y la p√©rdida de paquetes.</p>
                <h2>Redes Convergentes</h2>
                <p>Las redes convergentes integran m√∫ltiples tipos de tr√°fico, incluyendo voz, video y datos en una sola infraestructura. Para garantizar una experiencia √≥ptima, QoS se emplea para priorizar el tr√°fico y asegurar que los servicios sensibles al tiempo, como llamadas VoIP y videoconferencias, no sean interrumpidos por la congesti√≥n de la red.</p>
                <p>Esta convergencia simplifica la administraci√≥n y reduce costos operativos al eliminar redes dedicadas para cada servicio, pero introduce desaf√≠os cr√≠ticos en cuanto a calidad de servicio (QoS), latencia y ancho de banda.</p>
                <p>Para garantizar un rendimiento √≥ptimo, las redes convergentes implementan mecanismos avanzados de QoS que priorizan el tr√°fico seg√∫n su sensibilidad:</p>
                <ul style="list-style-type: none;">
                    <li>‚àò <marcador class="resaltado8">Tr√°fico en tiempo real </marcador>(ej: VoIP, Zoom, Teams) se marca con alta prioridad (Clase EF o CS6) para minimizar latencia y jitter.</li>
                    <li>‚àò <marcador class="resaltado8">Video </marcador>(ej: YouTube, videovigilancia) recibe prioridad media (Clase AF4x) para evitar buffering.</li>
                    <li>‚àò <marcador class="resaltado8">Datos cr√≠ticos </marcador>(ERP, backups) pueden usar colas dedicadas (CBWFQ).</li>
                    <li>‚àò <marcador class="resaltado8">Tr√°fico best-effort </marcador>(correo, navegaci√≥n) se maneja con los recursos restantes.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/qos1.png" alt="">
                </div>
                <h2>Transporte de Audio, Video y Voz</h2>
                <p>El tr√°fico de voz es altamente sensible al delay, ya que cualquier latencia excesiva puede afectar la calidad de la comunicaci√≥n. Adem√°s, consume pocos recursos en comparaci√≥n con otros tipos de tr√°fico y utiliza el protocolo UDP, lo que significa que no acepta retransmisi√≥n en caso de p√©rdida de paquetes. Para garantizar una comunicaci√≥n fluida, el jitter, que representa la variabilidad en la llegada de los paquetes, debe mantenerse por debajo de los 30 ms para evitar cortes o degradaci√≥n en la calidad del audio.</p>
                <p>El tr√°fico de video tambi√©n requiere baja latencia para asegurar una reproducci√≥n fluida, pero su tolerancia a la p√©rdida de paquetes es ligeramente mayor en comparaci√≥n con la voz. Este tipo de tr√°fico demanda m√°s ancho de banda debido a la cantidad de datos transmitidos por cuadro, y generalmente usa UDP para minimizar la latencia. Sin embargo, en algunos casos se emplean mecanismos de correcci√≥n de errores para compensar p√©rdidas moderadas de paquetes y mejorar la experiencia visual.</p>
                <p>El tr√°fico de datos, a diferencia de la voz y el video, es menos sensible a la latencia, ya que las aplicaciones pueden tolerar cierto retraso en la entrega de paquetes. Sin embargo, suele requerir confiabilidad en la transmisi√≥n, lo que lleva al uso de TCP, que permite retransmisi√≥n en caso de p√©rdida de datos. Este tipo de tr√°fico puede variar en sus necesidades de ancho de banda dependiendo de la aplicaci√≥n, desde transacciones simples hasta transferencias masivas de archivos, y puede ser administrado con menor prioridad en redes con pol√≠ticas de QoS bien definidas.</p>
                <p>El tr√°fico de audio, video y voz tiene requisitos espec√≠ficos para asegurar una comunicaci√≥n fluida:</p>
                <ul style="list-style-type: none;">
                    <li>ñ¶π <marcador class="resaltado9">Latencia: </marcador>Debe mantenerse por debajo de 150 ms para garantizar una comunicaci√≥n sin interrupciones.</li>
                    <li>ñ¶π <marcador class="resaltado9">P√©rdida de paquetes: </marcador>Una p√©rdida superior al 1% puede afectar la calidad de la voz y el video.</li>
                    <li>ñ¶π <marcador class="resaltado9">Jitter: </marcador>Variaciones en el tiempo de llegada de los paquetes deben ser minimizadas para evitar interrupciones en la reproducci√≥n.</li>
                    <li>ñ¶π <marcador class="resaltado9">Protocolos utilizados: </marcador>RTP (Real-time Transport Protocol) es com√∫nmente empleado para transmisi√≥n de voz y video, mientras que SIP y H.323 se usan para se√±alizaci√≥n en VoIP.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/qos2.png" alt="">
                </div>
                <h2>Garant√≠a de Ancho de Banda y Priorizaci√≥n del Tr√°fico</h2>
                <p>QoS permite asignar y garantizar el ancho de banda para diferentes tipos de tr√°fico, evitando que aplicaciones no cr√≠ticas consuman recursos excesivos. Esto se logra a trav√©s de la clasificaci√≥n y priorizaci√≥n del tr√°fico, donde los paquetes se identifican y se les asigna un nivel de servicio basado en su importancia.</p>
                <p>Este proceso se inicia con la clasificaci√≥n del tr√°fico, donde los paquetes se identifican mediante criterios como direcciones IP, n√∫meros de puerto, protocolos o marcas en la cabecera del paquete. Una vez clasificados, los paquetes se marcan con un valor que indica su nivel de servicio, utilizando campos como DSCP (Differentiated Services Code Point) o CoS (Class of Service). Posteriormente, se aplica la priorizaci√≥n, donde los paquetes marcados se colocan en diferentes colas de salida seg√∫n su nivel de servicio, utilizando algoritmos como Weighted Fair Queuing (WFQ) o Low Latency Queuing (LLQ). Adem√°s, se puede implementar el control de congesti√≥n mediante t√©cnicas como Weighted Random Early Detection (WRED) para evitar la p√©rdida de paquetes durante per√≠odos de alta demanda. Finalmente, se realiza la conformaci√≥n y modelado del tr√°fico para garantizar que el tr√°fico se ajuste a los l√≠mites de ancho de banda asignados, utilizando t√©cnicas como Traffic Shaping y Policing.</p>
                <div class="blog-image-grande">
                    <img src="media/qos3.jpg" alt="">
                </div>
                <h2>Congesti√≥n de la Red y Administraci√≥n de la Congesti√≥n</h2>
                <p>La congesti√≥n ocurre cuando el tr√°fico supera la capacidad disponible de la red. Para mitigar este problema, QoS implementa mecanismos como:</p>
                <ul style="list-style-type: none;">
                    <li>‚àò <marcador class="resaltado8">FIFO (First In, First Out): </marcador>M√©todo m√°s simple de gesti√≥n de colas donde los paquetes se procesan en el orden en que llegan, sin distinci√≥n de prioridad.</li>
                    <li>‚àò <marcador class="resaltado8">WFQ (Weighted Fair Queueing): </marcador>Distribuye equitativamente el ancho de banda entre los flujos de tr√°fico, asignando mayor prioridad a los paquetes con menor tama√±o para mejorar el rendimiento de tr√°fico interactivo.</li>
                    <li>‚àò <marcador class="resaltado8">CBWFQ (Class-Based Weighted Fair Queueing): </marcador>Extensi√≥n de WFQ que permite clasificar el tr√°fico en diferentes clases y asignar ancho de banda garantizado a cada una, proporcionando mayor control sobre la priorizaci√≥n.</li>
                    <li>‚àò <marcador class="resaltado8">LLQ (Low Latency Queueing): </marcador>Agrega una cola de prioridad estricta a CBWFQ, asegurando que el tr√°fico de voz y otros datos sensibles al retardo sean transmitidos de inmediato, evitando el jitter y la latencia excesiva.</li>
                    <li>‚àò <marcador class="resaltado8">Policing y Shaping: </marcador>Controlan el flujo de tr√°fico, evitando el uso excesivo del ancho de banda.</li>
                    <li>‚àò <marcador class="resaltado8">WRED (Weighted Random Early Detection): </marcador>Previene la congesti√≥n eliminando paquetes de manera controlada antes de que se produzca la saturaci√≥n.</li>
                </ul>
                <div class="blog-image-doble-grande">
                    <img src="media/qos4.jpeg" alt="">
                    <img src="media/qos5.png" alt="">
                </div>
                <h2>Modelos de QoS</h2>
                <p>Existen tres modelos principales de QoS:</p>
                <ul style="list-style-type: none;">
                    <li>‚ãÜ <marcador class="resaltado5">Best Effort: </marcador>No ofrece garant√≠as de rendimiento y trata a todos los paquetes por igual.</li>
                    <li>‚ãÜ <marcador class="resaltado5">Integrated Services (IntServ): </marcador>Reserva recursos para cada flujo de datos, asegurando calidad, pero con alta sobrecarga en la red.</li>
                    <li>‚ãÜ <marcador class="resaltado5">Differentiated Services (DiffServ): </marcador>Clasifica y marca los paquetes en distintos niveles de prioridad, lo que permite gestionar el tr√°fico de manera m√°s escalable y eficiente en comparaci√≥n con otros enfoques como IntServ. Al asignar diferentes clases de servicio, la red puede priorizar aplicaciones sensibles al rendimiento, como voz y video, asegurando una mejor calidad en su transmisi√≥n. Sin embargo, DiffServ funciona dentro de un dominio administrativo espec√≠fico, lo que significa que su efectividad puede verse limitada cuando los paquetes atraviesan m√∫ltiples redes de distintos proveedores. Si estos proveedores no respetan las mismas pol√≠ticas de marcado, la prioridad del tr√°fico puede perderse o degradarse, afectando el desempe√±o de las aplicaciones cr√≠ticas.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/qos6.png" alt="">
                </div>
                <h2>Clasificaci√≥n y Marcado de Tr√°fico</h2>
                <p>Para aplicar QoS, los paquetes deben ser clasificados y marcados utilizando mecanismos como:</p>
                <ul style="list-style-type: none;">
                    <li>‚¶ø <marcador class="resaltado6">DSCP (Differentiated Services Code Point):</marcador> Marca paquetes en la capa 3 para diferenciar niveles de servicio, priorizando el tr√°fico seg√∫n su tipo (voz, video, datos).</li>
                    <li>‚¶ø <marcador class="resaltado6">802.1p (CoS - Class of Service):</marcador> Define prioridades en la capa 2 (Ethernet) mediante tres bits en la cabecera de la trama, indicando la importancia del tr√°fico para dispositivos de red local.</li>
                    <li>‚¶ø <marcador class="resaltado6">MPLS EXP (Experimental bits):</marcador> Se usa en redes MPLS para asignar niveles de QoS.</li>
                    <li>‚¶ø <marcador class="resaltado6">ToS (Type of Service):</marcador> Campo en la cabecera IPv4 que permite clasificar el tr√°fico seg√∫n su prioridad, aunque ha sido en gran medida reemplazado por DSCP.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/qos7.png" alt="">
                </div>
                <h2>Control y Manipulaci√≥n del Tr√°fico</h2>
                <p>Para garantizar el cumplimiento de las pol√≠ticas de QoS, se aplican t√©cnicas como:</p>
                <ul style="list-style-type: none;">
                    <li>‚àò <marcador class="resaltado8">Rate Limiting: </marcador>Restringe el ancho de banda disponible para ciertos flujos de tr√°fico.</li>
                    <li>‚àò <marcador class="resaltado8">Traffic Shaping: </marcador>Suaviza r√°fagas de tr√°fico para mantener un flujo estable.</li>
                    <li>‚àò <marcador class="resaltado8">Congestion Avoidance: </marcador>Utiliza mecanismos como WRED para prevenir la saturaci√≥n de la red.</li>
                </ul>
                <h2>Definici√≥n de Pol√≠ticas de QoS</h2>
                <p>Las pol√≠ticas de Calidad de Servicio son un conjunto de reglas esenciales en la gesti√≥n de redes, dise√±adas para controlar el tr√°fico y asegurar un rendimiento √≥ptimo de las aplicaciones. Estas pol√≠ticas permiten a los administradores de red definir c√≥mo se maneja el tr√°fico, priorizando aplicaciones cr√≠ticas como VoIP o videoconferencias, asignando un ancho de banda garantizado para servicios esenciales, y controlando el tr√°fico para evitar la congesti√≥n y la p√©rdida de paquetes. La implementaci√≥n efectiva de pol√≠ticas de QoS es crucial para mantener la calidad de la experiencia del usuario, especialmente en redes con tr√°fico diverso y exigente.</p>
                <div class="blog-image-grande">
                    <img src="media/qos8.jpg" alt="">
                </div>
                <h2>Configuraci√≥n</h2>
                <p>En esta topolog√≠a, la Calidad de Servicio (QoS) se implementar√° en Capa 3 para garantizar una transmisi√≥n eficiente del tr√°fico. A nivel de Capa 3, los routers aplicar√°n mecanismos de clasificaci√≥n y gesti√≥n del tr√°fico para mantener la prioridad de los paquetes a lo largo de la red.</p>
                <div class="blog-image-zoom">
                    <img src="media/qos9.png" alt="">
                </div>
                <h5>Cisco</h5>
                <p>‚ùç Router 0</p>
                <div class="consola">
                    
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>router(config)# class-map match-all voice
router(config-cmap)# match protocol rtp
router(config-cmap)# match protocol skype
router(config-cmap)# exit

router(config)# class-map match-all web
router(config-cmap)# match protocol http
router(config-cmap)# match protocol secure-http
router(config-cmap)# exit

router(config)# class-map match-all icmp
router(config-cmap)# match protocol icmp
router(config-cmap)# exit

router(config)# policy-map marcado
router(config-pmap)# class voice
router(config-pmap-c)# priority 1000
router(config-pmap-c)# set ip dscp ef
router(config-pmap-c)# exit

router(config-pmap)# class web 
router(config-pmap-c)# bandwidth 500
router(config-pmap-c)# set ip dscp af31
router(config-pmap-c)# exit

router(config-pmap)# class icmp 
router(config-pmap-c)# bandwidth 25
router(config-pmap-c)# set ip dscp af11
router(config-pmap-c)# exit
router(config-pmap)# exit

router(config)# interface s0/1/0
router(config-if)# service-policy output marcado</code></pre>
                    </div>
                </div>
                <p>‚àò <marcador class="subrayado">class-map match-all</marcador>: se utiliza para definir una clase de tr√°fico basada en un criterio espec√≠fico. En este caso, se crean clases para tr√°fico de voz, HTTP e ICMP, lo que permitir√° aplicar diferentes pol√≠ticas de QoS a cada tipo de tr√°fico.</p> 
                <p>‚àò <marcador class="subrayado">match protocol</marcador>: dentro de la clase especifica el protocolo que se va a identificar. Esto permite que el router pueda clasificar correctamente el tr√°fico seg√∫n el protocolo utilizado, asegurando que cada tipo de tr√°fico reciba el tratamiento adecuado.</p> 
                <p>‚àò <marcador class="subrayado">policy-map</marcador>: crea una pol√≠tica de QoS que define c√≥mo se manejar√° el tr√°fico clasificado previamente. En este caso, la pol√≠tica denominada "marcado" establece diferentes niveles de prioridad y asignaciones de ancho de banda.</p> 
                <p>‚àò <marcador class="subrayado">priority</marcador>: dentro de la clase de voz asigna 1000 Kbps de ancho de banda con prioridad estricta, lo que significa que este tr√°fico se procesar√° antes que cualquier otro, garantizando una baja latencia para servicios en tiempo real.</p> 
                <p>Es importante notar que el comando priority reserva ancho de banda para el tr√°fico cr√≠tico, y que este ancho de banda reservado no es un ancho de banda maximo, sino un ancho de banda minimo garantizado. El sistema tratara de darle todo el ancho de banda que necesite el trafico de voz, pero garantizara que al menos 1000 kbps esten disponibles.</p>
                <p>‚àò <marcador class="subrayado">bandwidth</marcador>: en las clases HTTP e ICMP reserva un ancho de banda m√≠nimo para estos tipos de tr√°fico, asegurando que no sean bloqueados en condiciones de congesti√≥n.</p> 
                <p>A diferencia del comando priority, el comando bandwidth asigna un ancho de banda que se comparte con otras clases de tr√°fico. Esto significa que el tr√°fico "web" tendr√° garantizado un m√≠nimo de 500 kbps, pero podr√° utilizar m√°s ancho de banda si est√° disponible.</p>
                <p>‚àò <marcador class="subrayado">set ip dscp</marcador>: marca los paquetes con diferentes valores DSCP (Differentiated Services Code Point), lo que permite que el tr√°fico sea tratado con diferentes niveles de prioridad en la red.</p> 
                <p>‚àò <marcador class="subrayado">service-policy output</marcador>: aplica la pol√≠tica de QoS a la interfaz de salida, garantizando que los paquetes sean clasificados, priorizados y marcados adecuadamente antes de ser transmitidos.</p>
                <p>En la clase class-default, que es la que captura todo el tr√°fico no clasificado expl√≠citamente, no se suelen definir protocolos espec√≠ficos, ya que act√∫a como un contenedor de tr√°fico general. Sin embargo, podr√≠as configurarla para manejar tr√°fico de baja prioridad o tr√°fico sin clasificaci√≥n espec√≠fica.</p>
                <p>‚ùç Router 1</p>
                <div class="consola">
                    
                    <div class="barra-superior-consola">
                        <div class="grupo-icono-texto">
                            <img src="../media/cmd.png" alt="Icono" class="icono-cmd">
                            <span class="texto-cmd">C:\Windows\system32\cmd.exe</span>
                        </div>
                        <button class="boton-copiar-consola"><i class="fas fa-copy"></i>&nbsp;Copy</button>
                    </div>
                    <div class="codigo-consola">
                        <!-- Contenido del c√≥digo -->
<pre><code>router(config)# class-map match-all voice
router(config-cmap)# match ip dscp ef
router(config-cmap)# exit

router(config)# class-map match-all web
router(config-cmap)# match ip dscp af31
router(config-cmap)# exit

router(config)# class-map match-all icmp
router(config-cmap)# match ip dscp af11
router(config-cmap)# exit

router(config)# policy-map remarcado
router(config-pmap)# class voice
router(config-pmap-c)# set precedence 5
router(config-pmap-c)# exit

router(config-pmap)# class web 
router(config-pmap-c)# set precedence 3
router(config-pmap-c)# exit

router(config-pmap)# class icmp 
router(config-pmap-c)# set precedence 0
router(config-pmap-c)# exit
router(config-pmap)# exit

router(config)# interface s0/2/0
router(config-if)# service-policy input remarcado</code></pre>
                    </div>
                </div>
                <p>‚àò <marcador class="subrayado">policy-map</marcador>: define una pol√≠tica de QoS que aplicar√° modificaciones a los paquetes clasificados. En este caso, la pol√≠tica llamada "remarcado" ajustar√° la precedencia de los paquetes seg√∫n su clase.</p> 
                <p>‚àò <marcador class="subrayado">set precedence</marcador>: cambia la precedencia de los paquetes. En este caso, el tr√°fico de voz se le asigna una precedencia de 5 (alta prioridad), el tr√°fico HTTP se remarca con una precedencia de 3 (prioridad media), y el tr√°fico ICMP se asigna con una precedencia de 0 (baja prioridad), asegurando un tratamiento diferenciado en la red.</p> 
                <p>‚àò <marcador class="subrayado">service-policy input</marcador>: aplica la pol√≠tica en la interfaz de entrada (s0/2/0), lo que significa que los paquetes entrantes en esta interfaz ser√°n clasificados y su precedencia ser√° ajustada de acuerdo con la configuraci√≥n establecida.</p>
                <div class="blog-image-zoom">
                    <img src="media/qos10.jpg" alt="">
                </div>
            </div>
        </div>       
    </main>
    <script src="../js/script.js"></script>
</body>
</html>