<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog de Tecnolog√≠a</title>
    <link rel="icon" href="../media/imagen41.png" type="image/png">
    <script src="https://kit.fontawesome.com/9474e300a6.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/estilos-articulo.css">
</head>
<body>

    <header>
        <div class="container__header">
            <div class="logo">
                <img src="../media/logo-1.png" alt="">
            </div>

            <div class="menu">
                <nav>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="../electronica.html">Electr√≥nica</a></li>
                        <li><a href="../network.html">Networking</a></li>
                        <li><a href="../ia.html">Inteligencia Artificial</a></li>
                        <li><a href="../hacking.html">Ciberseguridad</a></li>
                        <li><a href="../devops.html">DevOps</a></li>
                    </ul>
                </nav>
            </div>
            <i class="fa-solid fa-bars" style="color: #ffffff;" id="icon_menu"></i>
            <div class="header__botonMenu">
                <input type="button" class="btn__header-botonMenu" value="Aportar" onclick="window.open('https://buymeacoffee.com/ryuzak1', '_blank');">
            </div>
        </div>
    </header>
    <main>
        <div class="cover">
            <div class="text__articulo-cover">
                <br>
                <br>
                <h1>Apache Kafka</h1>
                <p>Apache Kafka es una plataforma de mensajer√≠a distribuida dise√±ada para manejar grandes vol√∫menes de datos en tiempo real. Originalmente desarrollado por LinkedIn y posteriormente donado a la Apache Software Foundation, Kafka se ha convertido en una soluci√≥n ampliamente adoptada para la transmisi√≥n de datos en entornos distribuidos.</p>
                <p>Este sistema se basa en el concepto de "publicar y suscribirse" (publish-subscribe) y permite que los sistemas intercambien datos de manera confiable, eficiente y escalable. Su arquitectura distribuida lo hace ideal para aplicaciones que requieren alta disponibilidad y tolerancia a fallos.</p>
                <p>Kafka es un sistema dise√±ado para procesar flujos de eventos en tiempo real. Esto significa que est√° optimizado para capturar y responder a sucesos que ocurren de manera continua. Los "productores" env√≠an estos eventos a Kafka, organiz√°ndolos en "topics" (temas) que act√∫an como canales de datos.</p>
                <p>Los "brokers" de Kafka almacenan estos eventos de forma duradera y los distribuyen a los "consumidores". Estos consumidores son aplicaciones que procesan los eventos a medida que llegan, permitiendo reacciones casi instant√°neas. La capacidad de Kafka para manejar grandes vol√∫menes de datos y su arquitectura distribuida aseguran que estas reacciones ocurran de manera eficiente y escalable.</p>
                <div class="blog-image">
                    <img src="media/kafka0.jpeg" alt="">
                </div>
                <h2>¬øPara qu√© sirve Apache Kafka?</h2>
                <p>Apache Kafka se utiliza para la ingesta y procesamiento de grandes cantidades de datos en tiempo real. Su funcionalidad es √∫til en diversos escenarios, tales como:</p>
                <ul style="list-style-type: none;">
                    <li>üî∏<marcador class="resaltado8">Procesamiento de eventos en tiempo real: </marcador>Empresas que necesitan analizar datos al instante, como plataformas de redes sociales, comercio electr√≥nico y sistemas de detecci√≥n de fraudes.</li>
                    <li>üî∏<marcador class="resaltado8">Monitoreo de logs y m√©tricas: </marcador>Kafka facilita la recolecci√≥n y an√°lisis de registros y m√©tricas en sistemas distribuidos.</li>
                    <li>üî∏<marcador class="resaltado8">Integraci√≥n de sistemas: </marcador>Permite la comunicaci√≥n entre distintos servicios y aplicaciones a trav√©s de su sistema de eventos.</li>
                    <li>üî∏<marcador class="resaltado8">Procesamiento de flujos de datos: </marcador>Gracias a Kafka Streams, se pueden procesar datos en tiempo real con baja latencia.</li>
                    <li>üî∏<marcador class="resaltado8">Mensajer√≠a escalable: </marcador>Sirve como alternativa a sistemas de mensajer√≠a tradicionales como RabbitMQ o ActiveMQ, pero con una mayor capacidad de escalabilidad.</li>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/kafka1.png" alt="">
                </div>
                <h2>Arquitectura</h2>
                <p>Kafka est√° compuesto por varios elementos clave que permiten su funcionamiento:</p>
                <ul style="list-style-type: none;">
                    <li>‚ñ± <marcador class="resaltado9">Producers: </marcador>Los productores son la primera l√≠nea en el ecosistema de Kafka. Son aplicaciones que generan datos y los env√≠an a Kafka. Estos datos pueden ser de cualquier tipo: registros de actividad de usuarios, datos de sensores, logs de aplicaciones, transacciones financieras, etc.</li>
                    <p>‚àò La clave de los productores es su capacidad para enviar datos de forma as√≠ncrona y a alta velocidad. Esto permite que las aplicaciones contin√∫en funcionando sin tener que esperar a que los datos sean procesados.</p>
                    <p>‚àò Los productores tienen la flexibilidad de elegir a qu√© "topic" (tema) enviar sus mensajes, lo que permite organizar los datos en categor√≠as l√≥gicas.</p>
                    <li>‚ñ± <marcador class="resaltado9">Topics: </marcador>Los productores tienen la flexibilidad de elegir a qu√© "topic" (tema) enviar sus mensajes, lo que permite organizar los datos en categor√≠as l√≥gicas.</li>
                    <p>‚àò Cada mensaje enviado a Kafka debe pertenecer a un topic. Por ejemplo, podr√≠as tener un topic para "logs de usuarios", otro para "transacciones de ventas" y otro para "datos de sensores".</p>
                    <p>‚àò Los topics permiten que diferentes aplicaciones (productores y consumidores) interact√∫en con flujos de datos espec√≠ficos.</p>
                    <li>‚ñ± <marcador class="resaltado9">Brokers: </marcador>Los brokers son los servidores que componen el cl√∫ster de Kafka. Son responsables de almacenar los mensajes y distribuirlos a los consumidores.</li>
                    <p>‚àò Un cl√∫ster de Kafka puede estar compuesto por m√∫ltiples brokers, lo que proporciona alta disponibilidad y tolerancia a fallos.</p>
                    <p>‚àò Cuando un productor env√≠a un mensaje, este se almacena en uno o varios brokers, dependiendo de la configuraci√≥n del topic.</p>
                    <p>‚àò Los brokers son los responsables de la persistencia de los datos, guardando los mensajes en el disco. Esto asegura que los datos no se pierdan, incluso en caso de fallos del sistema.</p>
                    <li>‚ñ± <marcador class="resaltado9">Partitions: </marcador>Para mejorar la escalabilidad y el rendimiento, cada topic puede dividirse en m√∫ltiples particiones.</li>
                    <p>‚àò Cada partici√≥n es una secuencia ordenada de mensajes, y cada mensaje dentro de una partici√≥n tiene un offset √∫nico.</p>
                    <p>‚àò Las particiones permiten distribuir la carga de trabajo entre m√∫ltiples brokers, lo que aumenta el rendimiento y la capacidad de procesamiento de Kafka.</p>
                    <p>‚àò Adem√°s, las particiones permiten que m√∫ltiples consumidores procesen los mensajes en paralelo, lo que acelera el procesamiento de datos.</p>
                    <li>‚ñ± <marcador class="resaltado9">Consumers: </marcador>Los consumidores son aplicaciones que leen los mensajes almacenados en Kafka.</li>
                    <p>‚àò Los consumidores se suscriben a uno o varios topics y procesan los mensajes a medida que llegan.</p>
                    <p>‚àò Kafka permite que m√∫ltiples consumidores trabajen en paralelo para procesar los mensajes de un topic. Esto se logra mediante la asignaci√≥n de particiones a los consumidores.</p>
                    <p>‚àò Los consumidores pueden agruparse en grupos de consumidores (consumer groups), lo que permite distribuir la carga de trabajo y asegurar que cada mensaje sea procesado una sola vez dentro de un grupo.</p>
                    <li>‚ñ± <marcador class="resaltado9">Zookeeper: </marcador>Zookeeper es un servicio de coordinaci√≥n que se utiliza para gestionar el cl√∫ster de Kafka.</li>
                    <p>‚àò Zookeeper se encarga de mantener la informaci√≥n de configuraci√≥n del cl√∫ster, como la lista de brokers, los topics y las particiones.</p>
                    <p>‚àò Tambi√©n se encarga de la elecci√≥n del l√≠der de las particiones, que es el broker responsable de recibir las escrituras de los productores.</p>
                    <p>‚àò Zookeeper es crucial para la estabilidad y la fiabilidad de Kafka, ya que garantiza que todos los componentes del cl√∫ster est√©n sincronizados.</p>
                </ul>
                <div class="blog-image-grande">
                    <img src="media/kafka2.png" alt="">
                </div>
                <h2>Tecnolog√≠as Compatibles</h2>
                <p>Kafka es compatible con diversas tecnolog√≠as y frameworks, lo que lo hace una opci√≥n vers√°til en arquitecturas modernas:</p>
                <ul>
                    <li><marcador class="resaltado8">Bases de Datos: </marcador>Puede integrarse con bases de datos relacionales (MySQL, PostgreSQL) y NoSQL (MongoDB, Cassandra).</li>
                    <li><marcador class="resaltado8">Sistemas de Big Data: </marcador>Funciona con Apache Spark, Hadoop, y Flink para el procesamiento de datos a gran escala.</li>
                    <li><marcador class="resaltado8">Lenguajes de Programaci√≥n: </marcador>Ofrece soporte para Java, Python, Scala, Go, y m√°s.</li>
                    <li><marcador class="resaltado8">Sistemas de Mensajer√≠a: </marcador>Puede complementar o reemplazar soluciones como RabbitMQ y ActiveMQ.</li>
                    <li><marcador class="resaltado8">Servicios en la Nube: </marcador>Se puede implementar en AWS, Azure y Google Cloud Platform.</li>
                </ul>
                <div class="blog-image">
                    <img src="media/kafka3.gif" alt="">
                </div>
                <h2>Flujo de Apache Kafka</h2>
                <p>Imagina una plataforma de comercio electr√≥nico en tiempo real. Cada vez que un usuario realiza una compra, se genera un evento. Este evento, que contiene detalles como el ID del producto, el precio, la ubicaci√≥n del usuario y la hora de la compra, es producido por una aplicaci√≥n (el productor) y enviado a un topic de Kafka llamado "compras". Este topic est√° dividido en varias particiones para manejar el alto volumen de transacciones.</p>
                <p>Los brokers de Kafka, que forman un cl√∫ster, reciben estos eventos y los almacenan de forma duradera en las particiones del topic "compras". Como el topic est√° particionado, los eventos se distribuyen entre m√∫ltiples brokers, lo que permite manejar una gran cantidad de datos y asegurar la disponibilidad. Zookeeper se encarga de coordinar el cl√∫ster, asegurando que todos los brokers est√©n sincronizados y que las particiones tengan l√≠deres designados.</p>
                <p>Ahora, imagina que el equipo de an√°lisis de datos necesita procesar estas compras en tiempo real para generar informes y detectar anomal√≠as. Tienen una aplicaci√≥n (el consumidor) que se suscribe al topic "compras". El consumidor lee los eventos de las particiones y los procesa. Como el topic est√° particionado, pueden tener m√∫ltiples instancias del consumidor trabajando en paralelo, cada una procesando una o varias particiones. Esto permite un procesamiento en tiempo real y escalable de los datos de compra.</p>
                <p>Adem√°s, el equipo de marketing tiene otra aplicaci√≥n (otro consumidor) que tambi√©n se suscribe al topic "compras". Esta aplicaci√≥n utiliza los datos de compra para personalizar las recomendaciones de productos para los usuarios. Como tienen su propio grupo de consumidores, pueden procesar los mismos eventos de compra sin interferir con el trabajo del equipo de an√°lisis de datos.</p>
                <p>En resumen, Kafka act√∫a como un sistema de mensajer√≠a centralizado y escalable que permite la transmisi√≥n y el procesamiento de datos en tiempo real. Los productores generan eventos, los brokers los almacenan y los consumidores los procesan, todo ello coordinado por Zookeeper.</p>
                <div class="blog-image-doble-grande">
                    <img src="media/kafka4.png" alt="">
                    <img src="media/kafka5.png" alt="">
                </div>
                <h2>Configuraci√≥n</h2>
                <p>Para instalar y configurar Kafka, se requieren algunos pasos b√°sicos:</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Antes de instalar Kafka, es necesario tener instalado Java y Apache Zookeeper:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="sudo apt update && sudo apt install openjdk-11-jdk zookeeperd" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>Para instalar Apache Kafka en Linux, necesitas descargar los archivos binarios directamente desde el sitio web oficial de <a href="https://kafka.apache.org/downloads" target="blank">Apache Kafka</a>. </p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Descarga y Configuraci√≥n de Kafka:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="mv ../../Descargas/kafka-3.9.0-src.tgz . && tar -xvzf kafka-3.9.0-src.tgz && cd kafka-3.9.0-src" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Construir el proyecto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="./gradlew jar -PscalaVersion=2.13.14" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Primero, aseg√∫rate de crear el directorio de zookeeper: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="sudo mkdir -p /tmp/zookeeper" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>El directorio /tmp est√° dise√±ado para archivos temporales. Los sistemas Linux suelen limpiar este directorio peri√≥dicamente, especialmente al reiniciar. Esto significa que los datos de Zookeeper podr√≠an perderse, lo que podr√≠a provocar la corrupci√≥n de los datos de Kafka.</p>
                <p>Para un entorno de producci√≥n crea un directorio dedicado para los datos de Zookeeper en una ubicaci√≥n persistente, como /var/lib/zookeeper o un directorio dentro de tu directorio de inicio (/home/$USER/zookeeper).</p>
                <p>Edita el archivo config/zookeeper.properties y modifica "dataDir=/var/lib/zookeeper" para que apunten a tu directorio dedicado:</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Luego, cambia los permisos: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="sudo chmod -R 777 /tmp/zookeeper" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>Nota: dar permisos 777 es muy permisivo, para un entorno de producci√≥n, se recomienda configurar permisos mas restrictivos.</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Iniciar Zookeeper:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/zookeeper-server-start.sh config/zookeeper.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Iniciar Kafka:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/kafka-server-start.sh config/server.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚ùè Crear un Topic en Kafka:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-topics.sh  <marcador class="tool"></marcador> <marcador class="param">--create</marcador> <marcador class="param">--topic</marcador> mi-topic <marcador class="param">--bootstrap-server</marcador> localhost:9092 <marcador class="param">--partitions</marcador> 1 <marcador class="param">--replication-factor</marcador> 1<marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">Created topic mi-topic.
                            </span>
                        </div>
                    </section>
                </div>
                <ul style="list-style-type: none;">
                    <li>‚å≠ <marcador class="resaltado8">topic mi-topic: </marcador>Nombre del topic a crear.</li>
                    <li>‚å≠ <marcador class="resaltado8">partitions 3: </marcador>N√∫mero de particiones del topic.</li>
                    <li>‚å≠ <marcador class="resaltado8">replication-factor 2: </marcador>N√∫mero de r√©plicas del topic para tolerancia a fallos.</li>
                </ul>
                <p>‚ùè Enviar Mensajes:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-console-producer.sh <marcador class="tool"></marcador><marcador class="param">--topic</marcador> mi-topic <marcador class="param">--bootstrap-server</marcador> localhost:9092<marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">>testing
>hello world
>i am your father
>
                            </span>
                        </div>
                    </section>
                </div>
                <p>‚ùè Leer Mensajes:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-console-consumer.sh <marcador class="tool"></marcador><marcador class="param">--topic</marcador> mi-topic <marcador class="param">--from-beginning</marcador> <marcador class="param">--bootstrap-server</marcador> localhost:9092</span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">testing
hello world
i am your father                                
                            </span>
                        </div>
                    </section>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Para detener Zookeeper:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/zookeeper-server-stop.sh" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Para detener Kafka:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/kafka-server-stop.sh" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>Para permitir conexiones remotas, edita el archivo config/server.properties:</p>
                <div class="archivo">
listeners=PLAINTEXT://0.0.0.0:9092
advertised.listeners=PLAINTEXT://IP_DEL_SERVIDOR:9092
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Despu√©s, reinicia Kafka:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/kafka-server-stop.sh && bin/kafka-server-start.sh config/server.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>En el host remoto, usa la IP del servidor para conectarte.</p>
                <div class="blog-image-grande">
                    <img src="media/kafka6.png" alt="">
                </div>
                <h6>Cluster de Apache Kafka</h6>
                <p>Crear un cl√∫ster de Apache Kafka con Docker es una excelente manera de experimentar y desarrollar con Kafka de forma r√°pida y sencilla. Aqu√≠ te explico c√≥mo puedes hacerlo, junto con algunas consideraciones importantes:</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Creaci√≥n de los contenedores con Docker: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="sudo podman run -it --rm ubuntu:latest" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>Es necesario crear 3 contenedores en diferentes terminales, para cada uno de los nodos del cluster.</p>
                <div class="contenedor">
                    <div class="etiqueta">
                        Verificar las direcciones IP: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="cat /etc/hosts" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Instalar las dependencias en los contenedores: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="apt update && apt install -y nano wget curl openjdk-11-jdk" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Descargar Kafka en los contenedores: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="wget https://dlcdn.apache.org/kafka/3.9.0/kafka-3.9.0-src.tgz && tar -xvzf kafka-3.9.0-src.tgz && cd kafka-3.9.0-src" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Crear la carpeta para zookeeper: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="mkdir /root/zookeeper-data" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚ùè Configurar Zookeeper.</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador><marcador class="tool">nano</marcador> config/zookeeper.properties <marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text"># Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
# 
#    http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# the directory where the snapshot is stored.
dataDir=/root/zookeeper-data
# the port at which the clients will connect
clientPort=2181
# disable the per-ip limit on the number of connections since this is a non-production config
maxClientCnxns=0
# Disable the adminserver by default to avoid port conflicts.
# Set the port to something non-conflicting if choosing to enable this
admin.enableServer=false
# admin.serverPort=8080
                            </span>
                        </div>
                    </section>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Construir el proyecto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="./gradlew jar -PscalaVersion=2.13.14" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Iniciar Zookeeper:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/zookeeper-server-start.sh config/zookeeper.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Crear la carpeta para el nodo 1 y 2: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="mkdir /root/kafka-logs" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚ùè Configurar el nodo 1:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador><marcador class="tool">nano</marcador> config/server.properties <marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">############################# Server Basics #############################

# The id of the broker. This must be set to a unique integer for each broker.
broker.id=1

############################# Socket Server Settings #############################

# The address the socket server listens on. If not configured, the host name will be equal to the value of
# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.
#   FORMAT:
#     listeners = listener_name://host_name:port
#   EXAMPLE:
#     listeners = PLAINTEXT://your.host.name:9092
listeners=PLAINTEXT://10.88.0.3:9092

############################# Log Basics #############################

# A comma separated list of directories under which to store log files
log.dirs=/root/kafka-logs

############################# Zookeeper #############################

# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=10.88.0.2:2181

                            </span>
                        </div>
                    </section>
                </div>
                <ul style="list-style-type: none;">
                    <li>‚å≠ <marcador class="resaltado8">broker.id: </marcador>Este es el identificador √∫nico del broker de Kafka. Cada broker en un cl√∫ster debe tener un broker.id diferente.</li>
                    <li>‚å≠ <marcador class="resaltado8">listeners: </marcador>Define las direcciones y puertos en los que el broker de Kafka escuchar√° las conexiones de los clientes y otros brokers (es la IP del contenedor en s√≠).</li>
                    <li>‚å≠ <marcador class="resaltado8">log.dirs: </marcador>Especifica el directorio o directorios donde Kafka almacenar√° los archivos de registro (logs) de los mensajes.</li>
                    <li>‚å≠ <marcador class="resaltado8">zookeeper.connect: </marcador>Define la cadena de conexi√≥n para el cl√∫ster de Zookeeper.</li>
                </ul>
                <div class="contenedor">
                    <div class="etiqueta">
                        Construir el proyecto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="./gradlew jar -PscalaVersion=2.13.14" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Iniciar el nodo 1:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/kafka-server-start.sh config/server.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚ùè Configurar el nodo 2:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador><marcador class="tool">nano</marcador> config/server.properties <marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">############################# Server Basics #############################

# The id of the broker. This must be set to a unique integer for each broker.
broker.id=2

############################# Socket Server Settings #############################

# The address the socket server listens on. If not configured, the host name will be equal to the value of
# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.
#   FORMAT:
#     listeners = listener_name://host_name:port
#   EXAMPLE:
#     listeners = PLAINTEXT://your.host.name:9092
listeners=PLAINTEXT://10.88.0.4:9092

############################# Log Basics #############################

# A comma separated list of directories under which to store log files
log.dirs=/root/kafka-logs

############################# Zookeeper #############################

# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=10.88.0.2:2181

                            </span>
                        </div>
                    </section>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Construir el proyecto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="./gradlew jar -PscalaVersion=2.13.14" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Iniciar el nodo 2:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="bin/kafka-server-start.sh config/server.properties" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Ahora, aseg√∫rate de ir al directorio de kafka en una nueva terminal: 
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="cd kafka-3.9.0-src" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <div class="contenedor">
                    <div class="etiqueta">
                        Construir el proyecto:
                    </div>
                    <div class="comandos">
                        <input type="text" class="text" value="./gradlew jar -PscalaVersion=2.13.14" oninput="ajustarAncho(this)">
                        <button><i class="fa fa-clone"></i><span> Copy</span></button>
                    </div>
                </div>
                <p>‚ùè Crear un Topic en el cluster Kafka:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-topics.sh  <marcador class="tool"></marcador> <marcador class="param">--create</marcador> <marcador class="param">--topic</marcador> test-cluster <marcador class="param">--bootstrap-server</marcador> 10.88.0.3:9092 <marcador class="param">--partitions</marcador> 2 <marcador class="param">--replication-factor</marcador> 2<marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">Created topic mi-topic.
                            </span>
                        </div>
                    </section>
                </div>
                <p>‚ùè Listar los Topics en el cluster Kafka:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-topics.sh  <marcador class="tool"></marcador> <marcador class="param">--list</marcador> <marcador class="param">--bootstrap-server</marcador> 10.88.0.4:9092</span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">test-cluster
                            </span>
                        </div>
                    </section>
                </div>
                <p>‚ùè Enviar Mensajes:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-console-producer.sh <marcador class="tool"></marcador><marcador class="param">--topic</marcador> test-cluster <marcador class="param">--bootstrap-server</marcador> 10.88.0.3:9092<marcador class="param"></marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">>123
>456
>789
>feeling good
>
                            </span>
                        </div>
                    </section>
                </div>
                <p>‚ùè Leer Mensajes:</p>
                <div id="terminal">
                    <section id="terminal__bar">
                        <div id="bar__buttons">
                        <button class="bar__button" id="bar__button--exit">&#10005;</button>
                        <button class="bar__button">&#9633;</button>
                        <button class="bar__button">&#9472;</button>
                        </div>
                        <p id="bar__user">ryuzak1@ubuntu: ~</p>
                    </section>
                    <section id="terminal__body">
                        <div id="terminal__prompt">
                        <span id="terminal__prompt--command"><marcador class="user">ryuzak1@ubuntu:</marcador><marcador class="location">~</marcador><marcador class="bling">$&nbsp;</marcador><marcador class="sudo"></marcador>bin/kafka-console-consumer.sh <marcador class="tool"></marcador><marcador class="param">--topic</marcador> test-cluster <marcador class="param">--bootstrap-server</marcador> 10.88.0.4:9092 <marcador class="param">--from-beginning</marcador></span>    
                        </div>
                        <div class="command-response-container">
                            <span id="terminal__prompt--response" class="multiline-text">123
456
789
feeling good                                                              
                            </span>
                        </div>
                    </section>
                </div>
                <p></p>
                <div class="blog-image-grande">
                    <img src="media/kafka7.png" alt="">
                </div>
            </div>
        </div>       
    </main>
    <script src="../js/script.js"></script>
</body>
</html>